---
title: Restauration des packages NuGet
description: Vue d’ensemble décrivant comment NuGet restaure les packages dont dépend un projet (notamment les procédures de désactivation de la restauration et de restriction des versions).
author: karann-msft
ms.author: karann
ms.date: 08/05/2019
ms.topic: conceptual
ms.openlocfilehash: 0edfa1f61e6b18ef38689ed2272b2c5992a46ae6
ms.sourcegitcommit: b138bc1d49fbf13b63d975c581a53be4283b7ebf
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/03/2020
ms.locfileid: "93237846"
---
# <a name="restore-packages-using-package-restore"></a><span data-ttu-id="349a2-103">Restaurer des packages avec la restauration de packages</span><span class="sxs-lookup"><span data-stu-id="349a2-103">Restore packages using Package Restore</span></span>

<span data-ttu-id="349a2-104">Pour promouvoir un environnement de développement plus propre et réduire la taille du référentiel, la fonctionnalité de **restauration de package** de NuGet installe toutes les dépendances d’un projet qui sont listées dans le fichier projet ou `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="349a2-104">To promote a cleaner development environment and to reduce repository size, NuGet **Package Restore** installs all of a project's dependencies listed in either the project file or `packages.config`.</span></span> <span data-ttu-id="349a2-105">Le commandes `dotnet build` et `dotnet run` de .NET Core 2.0+ effectuent une restauration automatique des packages.</span><span class="sxs-lookup"><span data-stu-id="349a2-105">The .NET Core 2.0+ `dotnet build` and `dotnet run` commands do an automatic package restore.</span></span> <span data-ttu-id="349a2-106">Visual Studio peut restaurer les packages automatiquement à la génération d’un projet. Vous pouvez aussi restaurer des packages manuellement, à tout moment, en utilisant Visual Studio, `nuget restore`, `dotnet restore` et xbuild sur Mono.</span><span class="sxs-lookup"><span data-stu-id="349a2-106">Visual Studio can restore packages automatically when it builds a project, and you can restore packages at any time through Visual Studio, `nuget restore`, `dotnet restore`, and xbuild on Mono.</span></span>

<span data-ttu-id="349a2-107">La restauration des packages garantit la disponibilité de toutes les dépendances d’un projet sans avoir à les stocker dans le contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="349a2-107">Package Restore makes sure that all a project's dependencies are available, without having to store them in source control.</span></span> <span data-ttu-id="349a2-108">Pour configurer votre référentiel de contrôle de code source afin d’exclure les binaires des packages, consultez [Packages et contrôle de code source](../consume-packages/packages-and-source-control.md).</span><span class="sxs-lookup"><span data-stu-id="349a2-108">To configure your source control repository to exclude the package binaries, see [Packages and source control](../consume-packages/packages-and-source-control.md).</span></span> 

## <a name="package-restore-overview"></a><span data-ttu-id="349a2-109">Vue d’ensemble de la restauration des packages</span><span class="sxs-lookup"><span data-stu-id="349a2-109">Package Restore overview</span></span>

<span data-ttu-id="349a2-110">La restauration des packages installe tout d’abord les dépendances directes nécessaires d’un projet, puis toutes les dépendances du graphe des dépendances de ces packages.</span><span class="sxs-lookup"><span data-stu-id="349a2-110">Package Restore first installs the direct dependencies of a project as needed, then installs any dependencies of those packages throughout the entire dependency graph.</span></span>

<span data-ttu-id="349a2-111">Si un package n’est pas déjà installé, NuGet essaie d’abord de le récupérer à partir du [cache](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="349a2-111">If a package isn't already installed, NuGet first attempts to retrieve it from the [cache](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span> <span data-ttu-id="349a2-112">Si le package ne se trouve pas dans le cache, NuGet tente de télécharger le package à partir de toutes les sources activées dans la liste à l’adresse **Outils**  >  **options**  >  **Gestionnaire de package NuGet**  >  **sources du package** dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="349a2-112">If the package isn't in the cache, NuGet tries to download the package from all enabled sources in the list at **Tools** > **Options** > **NuGet Package Manager** > **Package Sources** in Visual Studio.</span></span> <span data-ttu-id="349a2-113">Lors de la restauration, NuGet ignore l’ordre des sources de packages et utilise le package provenant de la première source à répondre aux requêtes.</span><span class="sxs-lookup"><span data-stu-id="349a2-113">During restore, NuGet ignores the order of package sources, and uses the package from whichever source is first to respond to requests.</span></span> <span data-ttu-id="349a2-114">Pour plus d’informations sur le comportement de NuGet, consultez [Configurations courantes de NuGet](Configuring-NuGet-Behavior.md).</span><span class="sxs-lookup"><span data-stu-id="349a2-114">For more information about how NuGet behaves, see [Common NuGet configurations](Configuring-NuGet-Behavior.md).</span></span> 

> [!Note]
> <span data-ttu-id="349a2-115">NuGet n’indique pas l’échec de la restauration d’un package tant que toutes les sources n’ont pas été vérifiées.</span><span class="sxs-lookup"><span data-stu-id="349a2-115">NuGet doesn't indicate a failure to restore a package until all the sources have been checked.</span></span> <span data-ttu-id="349a2-116">À ce stade, NuGet ne signale de défaillance que pour la dernière source de la liste.</span><span class="sxs-lookup"><span data-stu-id="349a2-116">At that time, NuGet reports a failure for only the last source in the list.</span></span> <span data-ttu-id="349a2-117">L’erreur implique que le package ne se trouvait dans *aucune* autre source, même si les erreurs ne sont pas affichées pour chacune de ces sources.</span><span class="sxs-lookup"><span data-stu-id="349a2-117">The error implies that the package wasn't present on *any* of the other sources, even though errors aren't shown for each of those sources individually.</span></span>

## <a name="restore-packages"></a><span data-ttu-id="349a2-118">Restaurer des packages</span><span class="sxs-lookup"><span data-stu-id="349a2-118">Restore packages</span></span>

<span data-ttu-id="349a2-119">La restauration du package tente d’installer toutes les dépendances de package dans l’état correct correspondant aux références de votre fichier projet ( *. csproj* ) ou de votre fichier *packages. config* .</span><span class="sxs-lookup"><span data-stu-id="349a2-119">Package Restore tries to install all package dependencies to the correct state matching the package references in your project file ( *.csproj* ) or your *packages.config* file.</span></span> <span data-ttu-id="349a2-120">(Dans Visual Studio, les références s’affichent dans l’Explorateur de solutions sous **Dependencies \ NuGet** ou sous le nœud **Références** .)</span><span class="sxs-lookup"><span data-stu-id="349a2-120">(In Visual Studio, the references appear in Solution Explorer under the **Dependencies \ NuGet** or the **References** node.)</span></span>

1. <span data-ttu-id="349a2-121">Si les références du package dans votre fichier projet sont correctes, utilisez votre outil préféré pour restaurer les packages.</span><span class="sxs-lookup"><span data-stu-id="349a2-121">If the package references in your project file are correct, use your preferred tool to restore packages.</span></span>

   - <span data-ttu-id="349a2-122">[Visual Studio](#restore-using-visual-studio) ([restauration automatique](#restore-packages-automatically-using-visual-studio) ou [restauration manuelle](#restore-packages-manually-using-visual-studio))</span><span class="sxs-lookup"><span data-stu-id="349a2-122">[Visual Studio](#restore-using-visual-studio) ([automatic restore](#restore-packages-automatically-using-visual-studio) or [manual restore](#restore-packages-manually-using-visual-studio))</span></span>
   - [<span data-ttu-id="349a2-123">Interface CLI .NET</span><span class="sxs-lookup"><span data-stu-id="349a2-123">dotnet CLI</span></span>](#restore-using-the-dotnet-cli)
   - [<span data-ttu-id="349a2-124">Interface CLI de nuget.exe</span><span class="sxs-lookup"><span data-stu-id="349a2-124">nuget.exe CLI</span></span>](#restore-using-the-nugetexe-cli)
   - [<span data-ttu-id="349a2-125">MSBuild</span><span class="sxs-lookup"><span data-stu-id="349a2-125">MSBuild</span></span>](#restore-using-msbuild)
   - [<span data-ttu-id="349a2-126">Azure Pipelines</span><span class="sxs-lookup"><span data-stu-id="349a2-126">Azure Pipelines</span></span>](#restore-using-azure-pipelines)
   - [<span data-ttu-id="349a2-127">Azure DevOps Server</span><span class="sxs-lookup"><span data-stu-id="349a2-127">Azure DevOps Server</span></span>](#restore-using-azure-devops-server)

   <span data-ttu-id="349a2-128">Si les références de package dans votre fichier projet ( *.csproj* ) ou votre fichier *packages.config* sont incorrectes (elles ne correspondent pas à l’état souhaité après la restauration du package), vous devez installer ou mettre à jour les packages à la place.</span><span class="sxs-lookup"><span data-stu-id="349a2-128">If the package references in your project file ( *.csproj* ) or your *packages.config* file are incorrect (they do not match your desired state following Package Restore), then you need to either install or update packages instead.</span></span>

   <span data-ttu-id="349a2-129">Pour les projets utilisant PackageReference, après une restauration réussie le package doit se trouver dans le dossier *global-packages* et le fichier `obj/project.assets.json` est recréé.</span><span class="sxs-lookup"><span data-stu-id="349a2-129">For projects using PackageReference, after a successful restore, the package should be present in the *global-packages* folder and the `obj/project.assets.json` file is recreated.</span></span> <span data-ttu-id="349a2-130">Pour les projets qui utilisent `packages.config`, le package doit apparaître dans le dossier `packages` du projet.</span><span class="sxs-lookup"><span data-stu-id="349a2-130">For projects using `packages.config`, the package should appear in the project's `packages` folder.</span></span> <span data-ttu-id="349a2-131">Le projet doit à présent être généré.</span><span class="sxs-lookup"><span data-stu-id="349a2-131">The project should now build successfully.</span></span> 

2. <span data-ttu-id="349a2-132">Après l’exécution de la restauration du package, si vous faites toujours face à des packages manquants ou à des erreurs liées aux packages (comme des icônes d’erreur dans l’Explorateur de solutions de Visual Studio), vous devrez peut-être suivre les instructions fournies dans [Résolution des erreurs de restauration des packages](package-restore-troubleshooting.md) ou bien [réinstaller et mettre à jour les packages](../consume-packages/reinstalling-and-updating-packages.md).</span><span class="sxs-lookup"><span data-stu-id="349a2-132">After running Package Restore, if you still experience missing packages or package-related errors (such as error icons in Solution Explorer in Visual Studio), you may need to follow instructions described in [Troubleshooting Package Restore errors](package-restore-troubleshooting.md) or, alternatively, [reinstall and update packages](../consume-packages/reinstalling-and-updating-packages.md).</span></span>

   <span data-ttu-id="349a2-133">Dans Visual Studio, la console du gestionnaire de package fournit plusieurs options flexibles pour la réinstallation des packages.</span><span class="sxs-lookup"><span data-stu-id="349a2-133">In Visual Studio, the Package Manager Console provides several flexible options for reinstalling packages.</span></span> <span data-ttu-id="349a2-134">Consultez [Utilisation de la mise à jour de package](reinstalling-and-updating-packages.md#using-update-package).</span><span class="sxs-lookup"><span data-stu-id="349a2-134">See [Using Package-Update](reinstalling-and-updating-packages.md#using-update-package).</span></span>

## <a name="restore-using-visual-studio"></a><span data-ttu-id="349a2-135">Restaurer à l’aide de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="349a2-135">Restore using Visual Studio</span></span>

<span data-ttu-id="349a2-136">Dans Visual Studio sur Windows :</span><span class="sxs-lookup"><span data-stu-id="349a2-136">In Visual Studio on Windows, either:</span></span>

- <span data-ttu-id="349a2-137">Restaurer automatiquement les packages, ou</span><span class="sxs-lookup"><span data-stu-id="349a2-137">Restore packages automatically, or</span></span>

- <span data-ttu-id="349a2-138">Restaurer manuellement les packages</span><span class="sxs-lookup"><span data-stu-id="349a2-138">Restore packages manually</span></span>

### <a name="restore-packages-automatically-using-visual-studio"></a><span data-ttu-id="349a2-139">Restaurer automatiquement les packages avec Visual Studio</span><span class="sxs-lookup"><span data-stu-id="349a2-139">Restore packages automatically using Visual Studio</span></span>

<span data-ttu-id="349a2-140">La restauration des packages est automatique quand vous créez un projet à partir d’un modèle ou que vous générez un projet, selon les options décrites dans [Activer et désactiver la restauration des packages](#enable-and-disable-package-restore-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="349a2-140">Package Restore happens automatically when you create a project from a template or build a project, subject to the options in [Enable and disable package restore](#enable-and-disable-package-restore-in-visual-studio).</span></span> <span data-ttu-id="349a2-141">Dans NuGet 4.0+, la restauration se produit également automatiquement quand vous modifiez un projet de type SDK (généralement, un projet .NET Core ou .NET Standard).</span><span class="sxs-lookup"><span data-stu-id="349a2-141">In NuGet 4.0+, restore also happens automatically when you make changes to a SDK-style project (typically a .NET Core or .NET Standard project).</span></span>

1. <span data-ttu-id="349a2-142">Activez la restauration automatique des packages en choisissant **Outils**  >  **options**  >  **Gestionnaire de package NuGet** , puis en sélectionnant **automatiquement Rechercher les packages manquants pendant la génération dans Visual Studio** sous **restauration du package** .</span><span class="sxs-lookup"><span data-stu-id="349a2-142">Enable automatic package restore by choosing **Tools** > **Options** > **NuGet Package Manager** , and then selecting **Automatically check for missing packages during build in Visual Studio** under **Package Restore** .</span></span>

   <span data-ttu-id="349a2-143">Pour les projets qui ne sont pas de type SDK, vous devez d’abord sélectionner **Autoriser NuGet à télécharger les packages manquants** pour activer l’option de restauration automatique.</span><span class="sxs-lookup"><span data-stu-id="349a2-143">For non-SDK-style projects, you first need to select **Allow NuGet to download missing packages** to enable the automatic restore option.</span></span>

1. <span data-ttu-id="349a2-144">Créez le projet.</span><span class="sxs-lookup"><span data-stu-id="349a2-144">Build the project.</span></span>

   <span data-ttu-id="349a2-145">Si un ou plusieurs packages ne sont toujours pas installés correctement, l’ **Explorateur de solutions** affiche une icône d’erreur.</span><span class="sxs-lookup"><span data-stu-id="349a2-145">If one or more individual packages still aren't installed properly, **Solution Explorer** shows an error icon.</span></span> <span data-ttu-id="349a2-146">Cliquez avec le bouton droit et sélectionnez **Gérer les packages NuGet** , puis utilisez le **Gestionnaire de package** pour désinstaller et réinstaller les packages souhaités.</span><span class="sxs-lookup"><span data-stu-id="349a2-146">Right-click and select **Manage NuGet Packages** , and use **Package Manager** to uninstall and reinstall the affected packages.</span></span> <span data-ttu-id="349a2-147">Pour plus d’informations, consultez [Réinstaller et mettre à jour des packages](../consume-packages/reinstalling-and-updating-packages.md)</span><span class="sxs-lookup"><span data-stu-id="349a2-147">For more information, see [Reinstall and update packages](../consume-packages/reinstalling-and-updating-packages.md)</span></span>

   <span data-ttu-id="349a2-148">Si vous voyez l’erreur « Ce projet référence un ou plusieurs packages NuGet qui sont introuvables sur cet ordinateur » ou l’erreur « Un ou plusieurs packages NuGet doivent être restaurés mais n’ont pas pu l’être, car le consentement n’a pas été octroyé », [activez la restauration automatique](#enable-and-disable-package-restore-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="349a2-148">If you see the error "This project references NuGet package(s) that are missing on this computer," or "One or more NuGet packages need to be restored but couldn't be because consent has not been granted," [enable automatic restore](#enable-and-disable-package-restore-in-visual-studio).</span></span> <span data-ttu-id="349a2-149">Pour les projets plus anciens, consultez également [Migrer vers la restauration automatique des packages](#migrate-to-automatic-package-restore-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="349a2-149">For older projects, also see [Migrate to automatic package restore](#migrate-to-automatic-package-restore-visual-studio).</span></span> <span data-ttu-id="349a2-150">Consultez également [résolution des problèmes de restauration de packages](Package-restore-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="349a2-150">Also see [Package Restore troubleshooting](Package-restore-troubleshooting.md).</span></span>

### <a name="restore-packages-manually-using-visual-studio"></a><span data-ttu-id="349a2-151">Restaurer manuellement des packages à l’aide de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="349a2-151">Restore packages manually using Visual Studio</span></span>

1. <span data-ttu-id="349a2-152">Activez la restauration des packages en choisissant **Outils**  >  **options**  >  **Gestionnaire de package NuGet** .</span><span class="sxs-lookup"><span data-stu-id="349a2-152">Enable package restore by choosing **Tools** > **Options** > **NuGet Package Manager** .</span></span> <span data-ttu-id="349a2-153">Sous les options **Restauration de package** , sélectionnez **Autoriser NuGet à télécharger les packages manquants** .</span><span class="sxs-lookup"><span data-stu-id="349a2-153">Under **Package Restore** options, select **Allow NuGet to download missing packages** .</span></span>

1. <span data-ttu-id="349a2-154">Dans l’ **Explorateur de solutions** , cliquez avec le bouton droit sur la solution et sélectionnez **Restaurer des packages NuGet** .</span><span class="sxs-lookup"><span data-stu-id="349a2-154">In **Solution Explorer** , right click the solution and select **Restore NuGet Packages** .</span></span>

   <span data-ttu-id="349a2-155">Si un ou plusieurs packages ne sont toujours pas installés correctement, l’ **Explorateur de solutions** affiche une icône d’erreur.</span><span class="sxs-lookup"><span data-stu-id="349a2-155">If one or more individual packages still aren't installed properly, **Solution Explorer** shows an error icon.</span></span> <span data-ttu-id="349a2-156">Cliquez avec le bouton droit et sélectionnez **Gérer les packages NuGet** , puis utilisez le **Gestionnaire de package** pour désinstaller et réinstaller les packages souhaités.</span><span class="sxs-lookup"><span data-stu-id="349a2-156">Right-click and select **Manage NuGet Packages** , and then use **Package Manager** to uninstall and reinstall the affected packages.</span></span> <span data-ttu-id="349a2-157">Pour plus d’informations, consultez [Réinstaller et mettre à jour des packages](../consume-packages/reinstalling-and-updating-packages.md)</span><span class="sxs-lookup"><span data-stu-id="349a2-157">For more information, see [Reinstall and update packages](../consume-packages/reinstalling-and-updating-packages.md)</span></span>

   <span data-ttu-id="349a2-158">Si vous voyez l’erreur « Ce projet référence un ou plusieurs packages NuGet qui sont introuvables sur cet ordinateur » ou l’erreur « Un ou plusieurs packages NuGet doivent être restaurés mais n’ont pas pu l’être, car le consentement n’a pas été octroyé », [activez la restauration automatique](#enable-and-disable-package-restore-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="349a2-158">If you see the error "This project references NuGet package(s) that are missing on this computer," or "One or more NuGet packages need to be restored but couldn't be because consent has not been granted," [enable automatic restore](#enable-and-disable-package-restore-in-visual-studio).</span></span> <span data-ttu-id="349a2-159">Pour les projets plus anciens, consultez également [Migrer vers la restauration automatique des packages](#migrate-to-automatic-package-restore-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="349a2-159">For older projects, also see [Migrate to automatic package restore](#migrate-to-automatic-package-restore-visual-studio).</span></span> <span data-ttu-id="349a2-160">Consultez également [résolution des problèmes de restauration de packages](Package-restore-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="349a2-160">Also see [Package Restore troubleshooting](Package-restore-troubleshooting.md).</span></span>

### <a name="enable-and-disable-package-restore-in-visual-studio"></a><span data-ttu-id="349a2-161">Activer et désactiver la restauration des packages dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="349a2-161">Enable and disable package restore in Visual Studio</span></span>

<span data-ttu-id="349a2-162">Dans Visual Studio, vous contrôlez la restauration des packages principalement via les options **Outils**  >  **Options**  >  **Gestionnaire de package NuGet** :</span><span class="sxs-lookup"><span data-stu-id="349a2-162">In Visual Studio, you control Package Restore primarily through **Tools** > **Options** > **NuGet Package Manager** :</span></span>

![Contrôle de la restauration des packages avec les options du Gestionnaire de package NuGet](media/Restore-01-AutoRestoreOptions.png)

- <span data-ttu-id="349a2-164">**Autoriser NuGet à télécharger les packages manquants**  : contrôle toutes les formes de restauration de packages en changeant la valeur du paramètre `packageRestore/enabled`, défini dans la [section packageRestore](../reference/nuget-config-file.md#packagerestore-section) du fichier `NuGet.Config`, à la valeur `%AppData%\NuGet\` sur Windows ou `~/.nuget/NuGet/` sur Mac/Linux.</span><span class="sxs-lookup"><span data-stu-id="349a2-164">**Allow NuGet to download missing packages** controls all forms of package restore by changing the `packageRestore/enabled` setting in the [packageRestore section](../reference/nuget-config-file.md#packagerestore-section) of the `NuGet.Config` file, at `%AppData%\NuGet\` on Windows, or `~/.nuget/NuGet/` on Mac/Linux.</span></span> <span data-ttu-id="349a2-165">Ce paramètre active également la commande **Restaurer les packages NuGet** figurant dans le menu contextuel de la solution dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="349a2-165">This setting also enables the **Restore NuGet Packages** command on the solution's context menu in Visual Studio, .</span></span>

    ```xml
    <configuration>
        <packageRestore>
            <!-- The 'enabled' key is True when the "Allow NuGet to download missing packages" checkbox is set.
                 Clearing the box sets this to False, disabling command-line, automatic, and MSBuild-integrated restore. -->
            <add key="enabled" value="True" />
        </packageRestore>
    </configuration>
    ```
    
  > [!Note]
  > <span data-ttu-id="349a2-166">Pour remplacer le paramètre `packageRestore/enabled` globalement, définissez la variable d’environnement **EnableNuGetPackageRestore** à la valeur True ou False avant de lancer Visual Studio ou de démarrer une build.</span><span class="sxs-lookup"><span data-stu-id="349a2-166">To globally override the `packageRestore/enabled` setting, set the environment variable **EnableNuGetPackageRestore** with a value of True or False before launching Visual Studio or starting a build.</span></span>

- <span data-ttu-id="349a2-167">**Rechercher automatiquement les packages manquants pendant la génération dans Visual Studio**  : contrôle la restauration automatique en changeant la valeur du paramètre `packageRestore/automatic` dans la section [packageRestore](../reference/nuget-config-file.md#packagerestore-section) du fichier `NuGet.Config`.</span><span class="sxs-lookup"><span data-stu-id="349a2-167">**Automatically check for missing packages during build in Visual Studio** controls automatic restore by changing the `packageRestore/automatic` setting in the [packageRestore section](../reference/nuget-config-file.md#packagerestore-section) of the `NuGet.Config` file.</span></span> <span data-ttu-id="349a2-168">Quand cette option est définie à True, l’exécution d’une build à partir de Visual Studio restaure automatiquement tous les packages manquants.</span><span class="sxs-lookup"><span data-stu-id="349a2-168">When this option is set to True, running a build from Visual Studio automatically restores any missing packages.</span></span> <span data-ttu-id="349a2-169">Ce paramètre ne s’applique pas aux builds exécutées à partir de la ligne de commande MSBuild.</span><span class="sxs-lookup"><span data-stu-id="349a2-169">This setting doesn't affect builds run from the MSBuild command line.</span></span>

    ```xml
    ...
    <configuration>
        <packageRestore>
            <!-- The 'automatic' key is set to True when the "Automatically check for missing packages during
                 build in Visual Studio" checkbox is set. Clearing the box sets this to False and disables
                 automatic restore. -->
            <add key="automatic" value="True" />
        </packageRestore>
    </configuration>
    ```

<span data-ttu-id="349a2-170">Pour activer ou désactiver la restauration des packages pour tous les utilisateurs d’un ordinateur, un développeur ou une entreprise peut ajouter les paramètres de configuration dans un fichier `nuget.config` global.</span><span class="sxs-lookup"><span data-stu-id="349a2-170">To enable or disable Package Restore for all users on a computer, a developer or company can add the configuration settings to the global `nuget.config` file.</span></span> <span data-ttu-id="349a2-171">Le fichier `nuget.config` global se trouve dans `%ProgramData%\NuGet\Config` (parfois dans un dossier Visual Studio `\{IDE}\{Version}\{SKU}\` spécifique) sur Windows, ou dans `~/.local/share` sur Mac/Linux.</span><span class="sxs-lookup"><span data-stu-id="349a2-171">The global `nuget.config` is in Windows at `%ProgramData%\NuGet\Config`, sometimes under a specific `\{IDE}\{Version}\{SKU}\` Visual Studio folder, or in Mac/Linux at `~/.local/share`.</span></span> <span data-ttu-id="349a2-172">Chaque utilisateur peut ensuite activer la restauration au niveau d’un projet, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="349a2-172">Individual users can then selectively enable restore as needed on a project level.</span></span> <span data-ttu-id="349a2-173">Pour plus d’informations sur la façon dont NuGet hiérarchise les fichiers de configuration, consultez [Configurations courantes de NuGet](../consume-packages/configuring-nuget-behavior.md#how-settings-are-applied).</span><span class="sxs-lookup"><span data-stu-id="349a2-173">For more details on how NuGet prioritizes multiple config files, see [Common NuGet configurations](../consume-packages/configuring-nuget-behavior.md#how-settings-are-applied).</span></span>

> [!Important]
> <span data-ttu-id="349a2-174">Si vous modifiez les paramètres `packageRestore` directement dans `nuget.config`, redémarrez Visual Studio pour que la boîte de dialogue **Options** affiche les valeurs actuelles.</span><span class="sxs-lookup"><span data-stu-id="349a2-174">If you edit the `packageRestore` settings directly in `nuget.config`, restart Visual Studio, so that the **Options** dialog box shows the current values.</span></span>

### <a name="choose-default-package-management-format"></a><span data-ttu-id="349a2-175">Choisir le format de gestion des packages par défaut</span><span class="sxs-lookup"><span data-stu-id="349a2-175">Choose default package management format</span></span>

![Contrôler le format de gestion des packages par défaut via les options du gestionnaire de package NuGet](media/Restore-02-PackageFormatOptions.png)

<span data-ttu-id="349a2-177">NuGet a deux formats dans lesquels un projet peut utiliser des packages : [`PackageReference`](package-references-in-project-files.md) et [`packages.config`](../reference/packages-config.md) .</span><span class="sxs-lookup"><span data-stu-id="349a2-177">NuGet has two formats in which a project may use packages: [`PackageReference`](package-references-in-project-files.md) and [`packages.config`](../reference/packages-config.md).</span></span> <span data-ttu-id="349a2-178">Le format par défaut peut être sélectionné dans la liste déroulante sous l’en-tête **Package Management** .</span><span class="sxs-lookup"><span data-stu-id="349a2-178">The default format can be selected from the drop-down under the **Package Management** heading.</span></span> <span data-ttu-id="349a2-179">Une option à demander lorsque le premier package est installé dans un projet est également disponible.</span><span class="sxs-lookup"><span data-stu-id="349a2-179">An option to be prompted when the first package is installed in a project is also available.</span></span>

> [!Note]
> <span data-ttu-id="349a2-180">Si un projet ne prend pas en charge les deux formats de gestion des packages, le format de gestion des packages utilisé est celui qui est compatible avec le projet et, par conséquent, il peut ne pas être défini par défaut dans les options.</span><span class="sxs-lookup"><span data-stu-id="349a2-180">If a project does not support both package management formats, the package management format used will be the one that's compatible with the project, and therefore may not be the default set in the options.</span></span> <span data-ttu-id="349a2-181">En outre, NuGet ne demande pas de sélection lors de la première installation du package, même si l’option est sélectionnée dans la fenêtre Options.</span><span class="sxs-lookup"><span data-stu-id="349a2-181">Additionally, NuGet will not prompt for selection on first package installation, even if the option is selected in the options window.</span></span>
>
> <span data-ttu-id="349a2-182">Si vous utilisez la console du gestionnaire de package pour installer le premier package dans un projet, NuGet ne demande pas la sélection du format, même si l’option est sélectionnée dans la fenêtre Options.</span><span class="sxs-lookup"><span data-stu-id="349a2-182">If Package Manager Console is used to install the first package in a project, NuGet will not prompt for format selection, even if the option is selected in the options window.</span></span>

## <a name="restore-using-the-dotnet-cli"></a><span data-ttu-id="349a2-183">Restauration à l’aide de l’interface CLI dotnet</span><span class="sxs-lookup"><span data-stu-id="349a2-183">Restore using the dotnet CLI</span></span>

[!INCLUDE [restore-dotnet-cli](includes/restore-dotnet-cli.md)]

> [!IMPORTANT]
> <span data-ttu-id="349a2-184">Pour ajouter une référence de package manquant au fichier projet, utilisez le [package dotnet add](/dotnet/core/tools/dotnet-add-package?tabs=netcore2x), qui exécute également la commande `restore`.</span><span class="sxs-lookup"><span data-stu-id="349a2-184">To add a missing package reference to the project file, use [dotnet add package](/dotnet/core/tools/dotnet-add-package?tabs=netcore2x), which also runs the `restore` command.</span></span>

## <a name="restore-using-the-nugetexe-cli"></a><span data-ttu-id="349a2-185">Restaurer à l’aide de l’interface CLI nuget.exe</span><span class="sxs-lookup"><span data-stu-id="349a2-185">Restore using the nuget.exe CLI</span></span>

[!INCLUDE [restore-nuget-exe-cli](includes/restore-nuget-exe-cli.md)]

> [!IMPORTANT]
> <span data-ttu-id="349a2-186">La `restore` commande ne modifie pas un fichier projet ou un *packages.config* . Pour ajouter une dépendance, ajoutez un package par le biais de l’interface utilisateur ou de la console du gestionnaire de package dans Visual Studio, ou modifiez *packages.config* puis exécutez `install` ou `restore` .</span><span class="sxs-lookup"><span data-stu-id="349a2-186">The `restore` command does not modify a project file or *packages.config* . To add a dependency, either add a package through the Package Manager UI or Console in Visual Studio, or modify *packages.config* and then run either `install` or `restore`.</span></span>

## <a name="restore-using-msbuild"></a><span data-ttu-id="349a2-187">Restaurer avec MSBuild</span><span class="sxs-lookup"><span data-stu-id="349a2-187">Restore using MSBuild</span></span>

<span data-ttu-id="349a2-188">Pour restaurer les packages listés dans le fichier projet avec PackageReference. utilisez la commande [msbuild -t:restore](../reference/msbuild-targets.md#restore-target).</span><span class="sxs-lookup"><span data-stu-id="349a2-188">To restore packages listed in the project file with PackageReference, use the the [msbuild -t:restore](../reference/msbuild-targets.md#restore-target) command.</span></span> <span data-ttu-id="349a2-189">Cette commande est disponible uniquement dans NuGet 4.x+ et MSBuild 15.1+, inclus avec Visual Studio 2017 et les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="349a2-189">This command is available only in NuGet 4.x+ and MSBuild 15.1+, which are included with Visual Studio 2017 and higher versions.</span></span> <span data-ttu-id="349a2-190">`nuget restore` et `dotnet restore` utilisent cette commande pour les projets applicables.</span><span class="sxs-lookup"><span data-stu-id="349a2-190">Both `nuget restore` and `dotnet restore` use this command for applicable projects.</span></span>

1. <span data-ttu-id="349a2-191">Ouvrez une invite de commandes développeur (dans la zone **Rechercher** , saisissez **Invite de commandes développeur** ).</span><span class="sxs-lookup"><span data-stu-id="349a2-191">Open a Developer command prompt (In the **Search** box, type **Developer command prompt** ).</span></span>

   <span data-ttu-id="349a2-192">Il est généralement recommandé de démarrer l’invite de commandes développeur pour Visual Studio à partir du menu **Démarrer** , car elle est configurée avec tous les chemins nécessaires pour MSBuild.</span><span class="sxs-lookup"><span data-stu-id="349a2-192">You typically want to start the Developer Command Prompt for Visual Studio from the **Start** menu, as it will be configured with all the necessary paths for MSBuild.</span></span>

2. <span data-ttu-id="349a2-193">Basculez vers le dossier contenant le fichier projet et saisissez la commande suivante.</span><span class="sxs-lookup"><span data-stu-id="349a2-193">Switch to the folder containing the project file and type the following command.</span></span>

   ```cmd
   # Uses the project file in the current folder by default
   msbuild -t:restore
   ```

3. <span data-ttu-id="349a2-194">Tapez la commande suivante pour régénérer le projet.</span><span class="sxs-lookup"><span data-stu-id="349a2-194">Type the following command to rebuild the project.</span></span>

   ```cmd
   msbuild
   ```

   <span data-ttu-id="349a2-195">Assurez-vous que la sortie MSBuild indique que la génération s’est terminée avec succès.</span><span class="sxs-lookup"><span data-stu-id="349a2-195">Make sure that the MSBuild output indicates that the build completed successfully.</span></span>
   
> [!Note]
> <span data-ttu-id="349a2-196">MSBuild dispose d’un `-restore` commutateur qui exécute `Restore` , recharge le projet, puis génère.</span><span class="sxs-lookup"><span data-stu-id="349a2-196">msbuild has a `-restore` switch which will run `Restore`, reload the project, and then build.</span></span> <span data-ttu-id="349a2-197">Consultez [restauration et génération à l’aide d’une commande MSBuild](/nuget/reference/msbuild-targets#restoring-and-building-with-one-msbuild-command).</span><span class="sxs-lookup"><span data-stu-id="349a2-197">See [Restoring and building with one MSBuild command](/nuget/reference/msbuild-targets#restoring-and-building-with-one-msbuild-command).</span></span>

```cmd
# Will restore the project, then build, since build is the default target.
msbuild -restore
```

## <a name="restore-using-azure-pipelines"></a><span data-ttu-id="349a2-198">Restauration avec Azure Pipelines</span><span class="sxs-lookup"><span data-stu-id="349a2-198">Restore using Azure Pipelines</span></span>

<span data-ttu-id="349a2-199">quand vous créez une définition de build dans Azure Pipelines, incluez la tâche [restore](/azure/devops/pipelines/tasks/package/nuget#restore-nuget-packages) de NuGet ou la tâche [restore](/azure/devops/pipelines/tasks/build/dotnet-core-cli?view=azure-devops) de .NET Core dans la définition avant de lancer des tâches de build.</span><span class="sxs-lookup"><span data-stu-id="349a2-199">When you create a build definition in Azure Pipelines, include the NuGet [restore](/azure/devops/pipelines/tasks/package/nuget#restore-nuget-packages) or .NET Core [restore](/azure/devops/pipelines/tasks/build/dotnet-core-cli?view=azure-devops) task in the definition before any build tasks.</span></span> <span data-ttu-id="349a2-200">Certains modèles de build incluent la tâche restore par défaut.</span><span class="sxs-lookup"><span data-stu-id="349a2-200">Some build templates include the restore task by default.</span></span>

## <a name="restore-using-azure-devops-server"></a><span data-ttu-id="349a2-201">Restauration avec Azure DevOps Server</span><span class="sxs-lookup"><span data-stu-id="349a2-201">Restore using Azure DevOps Server</span></span>

<span data-ttu-id="349a2-202">Azure DevOps Server et TFS 2013 et ultérieur restaurent automatiquement les packages au moment de la build, si vous utilisez un modèle Team Build de TFS 2013 ou ultérieur.</span><span class="sxs-lookup"><span data-stu-id="349a2-202">Azure DevOps Server and TFS 2013 and later automatically restore packages during build, if you're using a TFS 2013 or later Team Build template.</span></span> <span data-ttu-id="349a2-203">Pour les versions antérieures de TFS, vous pouvez inclure une étape de build qui exécute une option de restauration en ligne de commande, ou éventuellement migrer le modèle de build vers une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="349a2-203">For earlier TFS versions, you can include a build step to run a command-line restore option, or optionally migrate the build template to a later version.</span></span> <span data-ttu-id="349a2-204">Pour plus d’informations, consultez [Configurer la restauration de packages avec Team Foundation Build](../consume-packages/team-foundation-build.md).</span><span class="sxs-lookup"><span data-stu-id="349a2-204">For more information, see [Set up package restore with Team Foundation Build](../consume-packages/team-foundation-build.md).</span></span>

## <a name="constrain-package-versions-with-restore"></a><span data-ttu-id="349a2-205">Restreindre les versions de package avec la restauration</span><span class="sxs-lookup"><span data-stu-id="349a2-205">Constrain package versions with restore</span></span>

<span data-ttu-id="349a2-206">Quand NuGet restaure des packages avec l’une des méthodes disponibles, il respecte toutes les restrictions que vous avez spécifiées dans `packages.config` ou dans le fichier projet :</span><span class="sxs-lookup"><span data-stu-id="349a2-206">When NuGet restores packages through any method, it honors any constraints you specified in `packages.config` or the project file:</span></span>

- <span data-ttu-id="349a2-207">Dans `packages.config`, vous pouvez spécifier une plage de versions dans la propriété `allowedVersion` de la dépendance.</span><span class="sxs-lookup"><span data-stu-id="349a2-207">In `packages.config`, you can specify a version range in the `allowedVersion` property of the dependency.</span></span> <span data-ttu-id="349a2-208">Pour plus d’informations, consultez [Restriction des versions de mise à niveau](../consume-packages/reinstalling-and-updating-packages.md#constraining-upgrade-versions).</span><span class="sxs-lookup"><span data-stu-id="349a2-208">See [Constrain upgrade versions](../consume-packages/reinstalling-and-updating-packages.md#constraining-upgrade-versions) for more information.</span></span> <span data-ttu-id="349a2-209">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="349a2-209">For example:</span></span>

    ```xml
    <package id="Newtonsoft.json" version="6.0.4" allowedVersions="[6,7)" />
    ```

- <span data-ttu-id="349a2-210">Dans un fichier projet, vous pouvez utiliser PackageReference pour spécifier directement la plage d’une dépendance.</span><span class="sxs-lookup"><span data-stu-id="349a2-210">In a project file, you can use PackageReference to specify a dependency's range directly.</span></span> <span data-ttu-id="349a2-211">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="349a2-211">For example:</span></span>

    ```xml
    <PackageReference Include="Newtonsoft.json" Version="[6, 7)" />
    ```

<span data-ttu-id="349a2-212">Dans tous les cas, utilisez la notation décrite dans [Gestion des versions du package](../concepts/package-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="349a2-212">In all cases, use the notation described in [Package versioning](../concepts/package-versioning.md).</span></span>

## <a name="force-restore-from-package-sources"></a><span data-ttu-id="349a2-213">Forcer la restauration à partir de sources de packages</span><span class="sxs-lookup"><span data-stu-id="349a2-213">Force restore from package sources</span></span>

<span data-ttu-id="349a2-214">Par défaut, les opérations de restauration NuGet utilisent des packages provenant des dossiers *global-packages* et *http-cache* , décrits dans [Gérer les dossiers de packages globaux et de cache](managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="349a2-214">By default, NuGet restore operations use packages from the *global-packages* and *http-cache* folders, which are described in [Manage the global packages and cache folders](managing-the-global-packages-and-cache-folders.md).</span></span>

<span data-ttu-id="349a2-215">Pour éviter d’utiliser le dossier *global-packages* , effectuez l’une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="349a2-215">To avoid using the *global-packages* folder, do one of the following:</span></span>

- <span data-ttu-id="349a2-216">Effacez le dossier avec `nuget locals global-packages -clear` ou `dotnet nuget locals global-packages --clear`.</span><span class="sxs-lookup"><span data-stu-id="349a2-216">Clear the folder using `nuget locals global-packages -clear` or `dotnet nuget locals global-packages --clear`.</span></span>
- <span data-ttu-id="349a2-217">Modifiez temporairement l’emplacement du dossier *Global-packages* avant l’opération de restauration, à l’aide de l’une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="349a2-217">Temporarily change the location of the *global-packages* folder before the restore operation, using one of the following methods:</span></span>
  - <span data-ttu-id="349a2-218">Définissez la variable d’environnement NUGET_PACKAGES sur un autre dossier.</span><span class="sxs-lookup"><span data-stu-id="349a2-218">Set the NUGET_PACKAGES environment variable to a different folder.</span></span>
  - <span data-ttu-id="349a2-219">Créez un fichier `NuGet.Config` qui définit `globalPackagesFolder` (si vous utilisez PackageReference) ou `repositoryPath` (si vous utilisez `packages.config`) sur un autre dossier.</span><span class="sxs-lookup"><span data-stu-id="349a2-219">Create a `NuGet.Config` file that sets `globalPackagesFolder` (if using PackageReference) or `repositoryPath` (if using `packages.config`) to a different folder.</span></span> <span data-ttu-id="349a2-220">Pour plus d’informations, consultez les [paramètres de configuration](../reference/nuget-config-file.md#config-section).</span><span class="sxs-lookup"><span data-stu-id="349a2-220">For more information, see [configuration settings](../reference/nuget-config-file.md#config-section).</span></span>
  - <span data-ttu-id="349a2-221">MSBuild uniquement : spécifiez un autre dossier avec la `RestorePackagesPath` propriété.</span><span class="sxs-lookup"><span data-stu-id="349a2-221">MSBuild only: Specify a different folder with the `RestorePackagesPath` property.</span></span>

<span data-ttu-id="349a2-222">Pour éviter d’utiliser le cache pour les sources HTTP, effectuez l’une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="349a2-222">To avoid using the cache for HTTP sources, do one of the following:</span></span>

- <span data-ttu-id="349a2-223">Utilisez l’option `-NoCache` avec `nuget restore`, ou l’option `--no-cache` avec `dotnet restore`.</span><span class="sxs-lookup"><span data-stu-id="349a2-223">Use the `-NoCache` option with `nuget restore`, or the `--no-cache` option with `dotnet restore`.</span></span> <span data-ttu-id="349a2-224">Ces options ne s’appliquent pas aux opérations de restauration effectuées par le biais de la console ou du Gestionnaire de package dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="349a2-224">These options don't affect restore operations through the Visual Studio Package Manager or console.</span></span>
- <span data-ttu-id="349a2-225">Effacez le cache avec `nuget locals http-cache -clear` ou `dotnet nuget locals http-cache --clear`.</span><span class="sxs-lookup"><span data-stu-id="349a2-225">Clear the cache using `nuget locals http-cache -clear` or `dotnet nuget locals http-cache --clear`.</span></span>
- <span data-ttu-id="349a2-226">Définissez temporairement la variable d’environnement NUGET_HTTP_CACHE_PATH sur un autre dossier.</span><span class="sxs-lookup"><span data-stu-id="349a2-226">Temporarily set the NUGET_HTTP_CACHE_PATH environment variable to a different folder.</span></span>

## <a name="migrate-to-automatic-package-restore-visual-studio"></a><span data-ttu-id="349a2-227">Migrer vers la restauration automatique des packages (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="349a2-227">Migrate to automatic package restore (Visual Studio)</span></span>

<span data-ttu-id="349a2-228">Pour NuGet 2.6 et versions antérieures, la restauration de packages intégrée à MSBuild était précédemment prise en charge, mais ce n’est plus le cas.</span><span class="sxs-lookup"><span data-stu-id="349a2-228">For NuGet 2.6 and earlier, an MSBuild-integrated package restore was previously supported but that is no longer true.</span></span> <span data-ttu-id="349a2-229">(Elle était généralement activée en cliquant avec le bouton droit sur une solution dans Visual Studio et en sélectionnant **Activer la restauration des packages NuGet** ).</span><span class="sxs-lookup"><span data-stu-id="349a2-229">(It was typically enabled by right-clicking a solution in Visual Studio and selecting **Enable NuGet Package Restore** ).</span></span> <span data-ttu-id="349a2-230">Si votre projet utilise la restauration de packages intégrée MSBuild dépréciée, effectuez une migration vers la restauration automatique des packages.</span><span class="sxs-lookup"><span data-stu-id="349a2-230">If your project uses the deprecated MSBuild-integrated package restore, please migrate to automatic package restore.</span></span>

<span data-ttu-id="349a2-231">Les projets qui utilisent MSBuild-Integrated restauration de packages contiennent généralement un dossier *. NuGet* avec trois fichiers : *NuGet.config* , *nuget.exe* et *NuGet. targets* .</span><span class="sxs-lookup"><span data-stu-id="349a2-231">Projects that use MSBuild-Integrated package restore typically contain a *.nuget* folder with three files: *NuGet.config* , *nuget.exe* , and *NuGet.targets* .</span></span> <span data-ttu-id="349a2-232">La présence d’un fichier *NuGet. targets* détermine si NuGet continue à utiliser l’approche intégrée à MSBuild, de sorte que ce fichier doit être supprimé au cours de la migration.</span><span class="sxs-lookup"><span data-stu-id="349a2-232">The presence of a *NuGet.targets* file determines whether NuGet will continue to use the MSBuild-integrated approach, so this file must be removed during the migration.</span></span>

<span data-ttu-id="349a2-233">Pour migrer vers la restauration automatique des packages :</span><span class="sxs-lookup"><span data-stu-id="349a2-233">To migrate to automatic package restore:</span></span>

1. <span data-ttu-id="349a2-234">Fermez Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="349a2-234">Close Visual Studio.</span></span>
2. <span data-ttu-id="349a2-235">Supprimez *.nuget/nuget.exe* et *.nuget/NuGet.targets* .</span><span class="sxs-lookup"><span data-stu-id="349a2-235">Delete *.nuget/nuget.exe* and *.nuget/NuGet.targets* .</span></span>
3. <span data-ttu-id="349a2-236">Pour chaque fichier projet, supprimez l’élément `<RestorePackages>` et supprimez toute référence à *NuGet.targets* .</span><span class="sxs-lookup"><span data-stu-id="349a2-236">For each project file, remove the `<RestorePackages>` element and remove any reference to *NuGet.targets* .</span></span>

<span data-ttu-id="349a2-237">Pour tester la restauration automatique des packages :</span><span class="sxs-lookup"><span data-stu-id="349a2-237">To test the automatic package restore:</span></span>

1. <span data-ttu-id="349a2-238">Supprimez le dossier *packages* de la solution.</span><span class="sxs-lookup"><span data-stu-id="349a2-238">Remove the *packages* folder from the solution.</span></span>
2. <span data-ttu-id="349a2-239">Ouvrez la solution dans Visual Studio et démarrez une build.</span><span class="sxs-lookup"><span data-stu-id="349a2-239">Open the solution in Visual Studio and start a build.</span></span>

   <span data-ttu-id="349a2-240">La restauration automatique des packages doit télécharger et installer chaque package de dépendances, sans les ajouter au contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="349a2-240">Automatic package restore should download and install each dependency package, without adding them to source control.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="349a2-241">Dépannage</span><span class="sxs-lookup"><span data-stu-id="349a2-241">Troubleshooting</span></span>

<span data-ttu-id="349a2-242">Consultez [Résolution des erreurs de restauration](package-restore-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="349a2-242">See [Troubleshoot package restore](package-restore-troubleshooting.md).</span></span>
