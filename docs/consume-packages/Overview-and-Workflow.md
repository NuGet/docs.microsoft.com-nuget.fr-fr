---
title: Présentation et flux de travail de l’utilisation des packages NuGet
description: Présentation du processus d’utilisation des packages NuGet dans un projet et liens vers d’autres parties du processus.
author: karann-msft
ms.author: karann
ms.date: 03/22/2018
ms.topic: conceptual
ms.openlocfilehash: 4cfc2fde08b240288851b87a391dc42c1ac8ecaf
ms.sourcegitcommit: 0dea3b153ef823230a9d5f38351b7cef057cb299
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/12/2019
ms.locfileid: "67842317"
---
# <a name="package-consumption-workflow"></a><span data-ttu-id="044b0-103">Flux de travail de la consommation des packages</span><span class="sxs-lookup"><span data-stu-id="044b0-103">Package consumption workflow</span></span>

<span data-ttu-id="044b0-104">Entre nuget.org et les galeries privées de packages que votre organisation peut avoir créées, vous avez à disposition des dizaines de milliers de packages très utiles pour vos applications et vos services.</span><span class="sxs-lookup"><span data-stu-id="044b0-104">Between nuget.org and private package galleries that your organization might establish, you can find tens of thousands of highly useful packages to use in your apps and services.</span></span> <span data-ttu-id="044b0-105">Toutefois, quelle que soit la source, la consommation d’un package suit le même flux de travail général.</span><span class="sxs-lookup"><span data-stu-id="044b0-105">But regardless of the source, consuming a package follows the same general workflow.</span></span>

![Procédure comprenant l’accès à une source de package, la recherche d’un package, l’installation du package dans un projet, l’ajout d’une instruction using et les appels à l’API du package](media/Overview-01-GeneralFlow.png)

<span data-ttu-id="044b0-107">\* _Visual Studio et `dotnet.exe` uniquement. La commande `nuget install` ne change pas les fichiers projet, ni le fichier `packages.config`. Les entrées doivent être gérées manuellement._</span><span class="sxs-lookup"><span data-stu-id="044b0-107">\* _Visual Studio and `dotnet.exe` only. The `nuget install` command does not modify project files or the `packages.config` file; entries must be managed manually._</span></span>

<span data-ttu-id="044b0-108">Pour plus d’informations, consultez [Trouver et choisir des packages](../consume-packages/finding-and-choosing-packages.md) et [Processus d’installation d’un package](../concepts/package-installation-process.md).</span><span class="sxs-lookup"><span data-stu-id="044b0-108">For further details, see [Finding and Choosing Packages](../consume-packages/finding-and-choosing-packages.md) and [What happens when a package is installed?](../concepts/package-installation-process.md).</span></span>

<span data-ttu-id="044b0-109">NuGet se souvient de l’identité et du numéro de version de chaque package installé. Il les enregistre le fichier projet (avec [PackageReference](../consume-packages/package-references-in-project-files.md)) ou dans [`packages.config`](../reference/packages-config.md), selon le type du projet et la version de NuGet.</span><span class="sxs-lookup"><span data-stu-id="044b0-109">NuGet remembers the identity and version number of each installed package, recording it in either the project file (using [PackageReference](../consume-packages/package-references-in-project-files.md)) or [`packages.config`](../reference/packages-config.md), depending on project type and your version of NuGet.</span></span> <span data-ttu-id="044b0-110">Avec NuGet 4.0+, PackageReference est recommandé, bien que cela soit configurable dans Visual Studio à l’aide de l’[interface utilisateur du Gestionnaire de package](../tools/package-manager-ui.md).</span><span class="sxs-lookup"><span data-stu-id="044b0-110">With NuGet 4.0+, PackageReference is preferred, although this is configurable in Visual Studio through the [Package Manager UI](../tools/package-manager-ui.md).</span></span> <span data-ttu-id="044b0-111">Dans tous les cas, vous pouvez rechercher dans le fichier approprié à tout moment pour voir la liste complète des dépendances de votre projet.</span><span class="sxs-lookup"><span data-stu-id="044b0-111">In any case, you can look in the appropriate file at any time to see the full list of dependencies for your project.</span></span>

> [!Tip]
> <span data-ttu-id="044b0-112">Il est préférable de toujours vérifier la licence pour chaque package que vous souhaitez utiliser dans votre logiciel.</span><span class="sxs-lookup"><span data-stu-id="044b0-112">It's prudent to always check the license for each package you intend to use in your software.</span></span> <span data-ttu-id="044b0-113">Pour vérifier la licence, sur Nuget.org, cliquez sur le lien **License Info** situé à droite, dans la page de description de chaque package.</span><span class="sxs-lookup"><span data-stu-id="044b0-113">On nuget.org, you find a **License Info** link on the right side of each package's description page.</span></span> <span data-ttu-id="044b0-114">Si un package ne spécifie pas les termes du contrat de licence, contactez le propriétaire du package directement à l’aide de du lien **Contact owners** (Contacter les propriétaires) dans la page du package.</span><span class="sxs-lookup"><span data-stu-id="044b0-114">If a package does not specify license terms, contact the package owner directly using the **Contact owners** link on the package page.</span></span> <span data-ttu-id="044b0-115">Microsoft ne vous concède aucune licence de propriété intellectuelle de fournisseurs de packages tiers et n’est pas responsable des informations fournies par des tiers.</span><span class="sxs-lookup"><span data-stu-id="044b0-115">Microsoft does not license any intellectual property to you from third party package providers and is not responsible for information provided by third parties.</span></span>

<span data-ttu-id="044b0-116">Lors de l’installation des packages, NuGet vérifie généralement si le package est déjà disponible dans son cache.</span><span class="sxs-lookup"><span data-stu-id="044b0-116">When installing packages, NuGet typically checks if the package is already available from its cache.</span></span> <span data-ttu-id="044b0-117">Vous pouvez effacer manuellement ce cache en ligne de commande, comme l’explique la page [Gérer les dossiers de packages globaux et de cache](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="044b0-117">You can manually clear this cache from the command line, as described on [Managing the global packages and cache folders](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span>

<span data-ttu-id="044b0-118">NuGet vérifie également que les versions cibles de .NET Framework prises en charge par le package sont compatibles avec votre projet.</span><span class="sxs-lookup"><span data-stu-id="044b0-118">NuGet also makes sure that the target frameworks supported by the package are compatible with your project.</span></span> <span data-ttu-id="044b0-119">Si le package ne contient pas d’assemblys compatibles, NuGet affiche une erreur.</span><span class="sxs-lookup"><span data-stu-id="044b0-119">If the package does not contain compatible assemblies, NuGet displays an error.</span></span> <span data-ttu-id="044b0-120">Consultez [Résolution des erreurs de package incompatible](dependency-resolution.md#resolving-incompatible-package-errors).</span><span class="sxs-lookup"><span data-stu-id="044b0-120">See [Resolving incompatible package errors](dependency-resolution.md#resolving-incompatible-package-errors).</span></span>

<span data-ttu-id="044b0-121">Lorsque vous ajoutez du code de projet à un référentiel source, vous n’incluez généralement pas les packages NuGet.</span><span class="sxs-lookup"><span data-stu-id="044b0-121">When adding project code to a source repository, you typically don't include NuGet packages.</span></span> <span data-ttu-id="044b0-122">Si vous décidez de cloner ultérieurement le référentiel ou d’acquérir le projet d’une autre manière (y compris avec des agents de génération sur des systèmes comme Visual Studio Team Services), vous devrez restaurer les packages avant d’exécuter une génération :</span><span class="sxs-lookup"><span data-stu-id="044b0-122">Those who later clone the repository or otherwise acquire the project, including build agents on systems like Visual Studio Team Services, must restore the necessary packages prior to running a build:</span></span>

![Procédure de restauration des packages NuGet par clonage d’un référentiel et utilisation d’une commande de restauration](media/Overview-02-RestoreFlow.png)

<span data-ttu-id="044b0-124">La [restauration du package](../consume-packages/package-restore.md) utilise les informations du fichier projet ou de `packages.config` pour réinstaller toutes les dépendances.</span><span class="sxs-lookup"><span data-stu-id="044b0-124">[Package Restore](../consume-packages/package-restore.md) uses the information in the project file or `packages.config` to reinstall all dependencies.</span></span> <span data-ttu-id="044b0-125">Notez qu’il existe des différences dans le processus concerné, comme décrit dans [Résolution des dépendances](../consume-packages/dependency-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="044b0-125">Note that there are differences in the process involved, as described in [Dependency Resolution](../consume-packages/dependency-resolution.md).</span></span> <span data-ttu-id="044b0-126">Par ailleurs, le diagramme ci-dessus ne montre pas de commande de restauration pour la console du Gestionnaire de package. En effet, si vous êtes dans la console, celle-ci se trouve déjà dans le contexte de Visual Studio, qui en général restaure automatiquement les packages et fournit la commande indiquée au niveau de la solution.</span><span class="sxs-lookup"><span data-stu-id="044b0-126">Also, the diagram above does not show a restore command for the Package Manager Console because if you're with the Console you're already in the context of Visual Studio, which typically restores packages automatically and provides the solution-level command as shown.</span></span>

<span data-ttu-id="044b0-127">Il est parfois nécessaire de réinstaller les packages qui sont déjà inclus dans un projet, ce qui peut également réinstaller les dépendances.</span><span class="sxs-lookup"><span data-stu-id="044b0-127">Occasionally it's necessary to reinstall packages that are already included in a project, which may also reinstall dependencies.</span></span> <span data-ttu-id="044b0-128">Pour cela, utilisez la commande `nuget reinstall` ou la console du Gestionnaire de package NuGet.</span><span class="sxs-lookup"><span data-stu-id="044b0-128">This is easy to do using the `nuget reinstall` command or the NuGet Package Manager Console.</span></span> <span data-ttu-id="044b0-129">Pour plus d’informations, consultez [Réinstallation et mise à jour des packages](../consume-packages/reinstalling-and-updating-packages.md).</span><span class="sxs-lookup"><span data-stu-id="044b0-129">For details, see [Reinstalling and Updating Packages](../consume-packages/reinstalling-and-updating-packages.md).</span></span>

<span data-ttu-id="044b0-130">Enfin, le comportement de NuGet est régi par des fichiers `Nuget.Config`.</span><span class="sxs-lookup"><span data-stu-id="044b0-130">Finally, NuGet's behavior is driven by `Nuget.Config` files.</span></span> <span data-ttu-id="044b0-131">Plusieurs fichiers peuvent être utilisés pour centraliser certains paramètres à différents niveaux, comme expliqué dans [Configuration du comportement de NuGet](../consume-packages/configuring-nuget-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="044b0-131">Multiple files can be used to centralize certain settings at different levels, as explained in [Configuring NuGet Behavior](../consume-packages/configuring-nuget-behavior.md).</span></span>

## <a name="ways-to-install-a-nuget-package"></a><span data-ttu-id="044b0-132">Méthodes d’installation d’un package NuGet</span><span class="sxs-lookup"><span data-stu-id="044b0-132">Ways to install a NuGet Package</span></span>

<span data-ttu-id="044b0-133">Les packages NuGet peuvent être téléchargés et installés à l’aide des méthodes présentées dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="044b0-133">NuGet packages are downloaded and installed using any of the methods in the following table.</span></span>

| <span data-ttu-id="044b0-134">Outil</span><span class="sxs-lookup"><span data-stu-id="044b0-134">Tool</span></span> | <span data-ttu-id="044b0-135">Description</span><span class="sxs-lookup"><span data-stu-id="044b0-135">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="044b0-136">Interface CLI dotnet.exe</span><span class="sxs-lookup"><span data-stu-id="044b0-136">dotnet.exe CLI</span></span>](install-use-packages-dotnet-cli.md) | <span data-ttu-id="044b0-137">(Toutes les plateformes) Outil CLI pour les bibliothèques .NET Core et .NET Standard et pour les projets de style SDK qui ciblent le .NET Framework (consultez [Attribut Sdk](/dotnet/core/tools/csproj#additions)).</span><span class="sxs-lookup"><span data-stu-id="044b0-137">(All platforms) CLI tool for .NET Core and .NET Standard libraries, and for SDK-style projects that target .NET Framework (see [SDK attribute](/dotnet/core/tools/csproj#additions)).</span></span> <span data-ttu-id="044b0-138">Récupère le package identifié par \<package_name\> et ajoute une référence au fichier projet.</span><span class="sxs-lookup"><span data-stu-id="044b0-138">Retrieves the package identified by \<package_name\> and adds a reference to the project file.</span></span> <span data-ttu-id="044b0-139">Récupère et installe également les dépendances.</span><span class="sxs-lookup"><span data-stu-id="044b0-139">Also retrieves and installs dependencies.</span></span> |
| <span data-ttu-id="044b0-140">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="044b0-140">Visual Studio</span></span> | <span data-ttu-id="044b0-141">(Windows et Mac) Fournit une interface utilisateur permettant de parcourir, de sélectionner et d’installer des packages et leurs dépendances dans un projet à partir d’une source de package donnée.</span><span class="sxs-lookup"><span data-stu-id="044b0-141">(Windows and Mac) Provides a UI through which you can browse, select, and install packages and their dependencies into a project from a specified package source.</span></span> <span data-ttu-id="044b0-142">Ajoute des références aux packages installés dans le fichier projet.</span><span class="sxs-lookup"><span data-stu-id="044b0-142">Adds references to installed packages to the project file.</span></span><ul><li>[<span data-ttu-id="044b0-143">Installer et gérer des packages à l’aide de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="044b0-143">Install and manage packages using Visual Studio</span></span>](../tools/package-manager-ui.md)</li><li>[<span data-ttu-id="044b0-144">Inclusion d’un package NuGet dans votre projet (Mac)</span><span class="sxs-lookup"><span data-stu-id="044b0-144">Including a NuGet package in your project (Mac)</span></span>](/visualstudio/mac/nuget-walkthrough)</li></ul> |
| [<span data-ttu-id="044b0-145">Console du Gestionnaire de package dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="044b0-145">Package Manager Console in Visual Studio</span></span>](../tools/package-manager-console.md) | <span data-ttu-id="044b0-146">(Windows uniquement) Récupère et installe le package identifié par \<package_name\> dans un projet spécifié au sein de la solution à partir d’une source donnée, puis ajoute une référence au fichier projet.</span><span class="sxs-lookup"><span data-stu-id="044b0-146">(Windows only) Retrieves and installs the package identified by \<package_name\> from a selected source into a specified project in the solution, then adds a reference to the project file.</span></span> <span data-ttu-id="044b0-147">Récupère et installe également les dépendances.</span><span class="sxs-lookup"><span data-stu-id="044b0-147">Also retrieves and installs dependencies.</span></span> |
| [<span data-ttu-id="044b0-148">Interface CLI de nuget.exe</span><span class="sxs-lookup"><span data-stu-id="044b0-148">nuget.exe CLI</span></span>](install-use-packages-dotnet-cli.md) | <span data-ttu-id="044b0-149">(Toutes les plateformes) Outil CLI pour les bibliothèques .NET Framework et les projets qui ne sont pas de style SDK ciblant les bibliothèques .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="044b0-149">(All platforms) CLI tool for .NET Framework libraries and non-SDK-style projects that target .NET Standard libraries.</span></span> <span data-ttu-id="044b0-150">Récupère le package identifié par \<package_name\> et développe son contenu dans un dossier du répertoire actif. Peut également récupérer tous les packages listés dans un fichier `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="044b0-150">Retrieves the package identified by \<package_name\> and expands its contents into a folder in the current directory; can also retrieve all packages listed in a `packages.config` file.</span></span> <span data-ttu-id="044b0-151">Récupère et installe également les dépendances, mais n’apporte aucune modification aux fichiers projet ni à `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="044b0-151">Also retrieves and installs dependencies, but makes no changes to project files or `packages.config`.</span></span> |
