---
title: Ressource catalogue, API NuGet v3
description: Le catalogue est un index de tous les packages créés et supprimés sur nuget.org.
author: joelverhagen
ms.author: jver
ms.date: 10/30/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: 11485f583d6993919f6bb8acabcc87d9e4261975
ms.sourcegitcommit: ee6c3f203648a5561c809db54ebeb1d0f0598b68
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/26/2021
ms.locfileid: "98774160"
---
# <a name="catalog"></a><span data-ttu-id="9e8a3-103">Catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-103">Catalog</span></span>

<span data-ttu-id="9e8a3-104">Le **catalogue** est une ressource qui enregistre toutes les opérations de package sur une source de package, telles que les créations et les suppressions.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-104">The **catalog** is a resource that records all package operations on a package source, such as creations and deletions.</span></span> <span data-ttu-id="9e8a3-105">La ressource de catalogue a le `Catalog` type dans l' [index de service](service-index.md).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-105">The catalog resource has the `Catalog` type in the [service index](service-index.md).</span></span> <span data-ttu-id="9e8a3-106">Vous pouvez utiliser cette ressource pour [Rechercher tous les packages publiés](../guides/api/query-for-all-published-packages.md).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-106">You can use this resource to [query for all published packages](../guides/api/query-for-all-published-packages.md).</span></span>

> [!Note]
> <span data-ttu-id="9e8a3-107">Étant donné que le catalogue n’est pas utilisé par le client NuGet officiel, toutes les sources de package n’implémentent pas le catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-107">Because the catalog is not used by the official NuGet client, not all package sources implement the catalog.</span></span>

> [!Note]
> <span data-ttu-id="9e8a3-108">Actuellement, le catalogue nuget.org n’est pas disponible en Chine.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-108">Currently, the nuget.org catalog is not available in China.</span></span> <span data-ttu-id="9e8a3-109">Pour plus d’informations, consultez [NuGet/NuGetGallery # 4949](https://github.com/NuGet/NuGetGallery/issues/4949).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-109">For more details, see [NuGet/NuGetGallery#4949](https://github.com/NuGet/NuGetGallery/issues/4949).</span></span>

## <a name="versioning"></a><span data-ttu-id="9e8a3-110">Contrôle de version</span><span class="sxs-lookup"><span data-stu-id="9e8a3-110">Versioning</span></span>

<span data-ttu-id="9e8a3-111">La `@type` valeur suivante est utilisée :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-111">The following `@type` value is used:</span></span>

<span data-ttu-id="9e8a3-112">Valeur @type</span><span class="sxs-lookup"><span data-stu-id="9e8a3-112">@type value</span></span>   | <span data-ttu-id="9e8a3-113">Notes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-113">Notes</span></span>
------------- | -----
<span data-ttu-id="9e8a3-114">Catalogue/3.0.0</span><span class="sxs-lookup"><span data-stu-id="9e8a3-114">Catalog/3.0.0</span></span> | <span data-ttu-id="9e8a3-115">La version initiale</span><span class="sxs-lookup"><span data-stu-id="9e8a3-115">The initial release</span></span>

## <a name="base-url"></a><span data-ttu-id="9e8a3-116">URL de base</span><span class="sxs-lookup"><span data-stu-id="9e8a3-116">Base URL</span></span>

<span data-ttu-id="9e8a3-117">L’URL du point d’entrée pour les API suivantes est la valeur de la `@id` propriété associée aux valeurs de ressource mentionnées ci-dessus `@type` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-117">The entry point URL for the following APIs is the value of the `@id` property associated with the aforementioned resource `@type` values.</span></span> <span data-ttu-id="9e8a3-118">Cette rubrique utilise l’URL de l’espace réservé `{@id}` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-118">This topic uses the placeholder URL `{@id}`.</span></span>

## <a name="http-methods"></a><span data-ttu-id="9e8a3-119">Méthodes HTTP</span><span class="sxs-lookup"><span data-stu-id="9e8a3-119">HTTP methods</span></span>

<span data-ttu-id="9e8a3-120">Toutes les URL trouvées dans la ressource de catalogue prennent uniquement en charge les méthodes HTTP `GET` et `HEAD` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-120">All URLs found in the catalog resource support only the HTTP methods `GET` and `HEAD`.</span></span>

## <a name="catalog-index"></a><span data-ttu-id="9e8a3-121">Index du catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-121">Catalog index</span></span>

<span data-ttu-id="9e8a3-122">L’index de catalogue est un document dans un emplacement connu qui contient une liste d’éléments de catalogue, classés par ordre chronologique.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-122">The catalog index is a document in a well-known location that has a list of catalog items, ordered chronologically.</span></span> <span data-ttu-id="9e8a3-123">Il s’agit du point d’entrée de la ressource de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-123">It is the entry point of the catalog resource.</span></span>

<span data-ttu-id="9e8a3-124">L’index est constitué de pages de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-124">The index is comprised of catalog pages.</span></span> <span data-ttu-id="9e8a3-125">Chaque page de catalogue contient des éléments de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-125">Each catalog page contains catalog items.</span></span> <span data-ttu-id="9e8a3-126">Chaque élément de catalogue représente un événement concernant un package unique à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-126">Each catalog item represents an event concerning a single package at a point in time.</span></span> <span data-ttu-id="9e8a3-127">Un élément de catalogue peut représenter un package qui a été créé, supprimé de la liste, rerépertorié ou supprimé de la source du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-127">A catalog item can represent a package that was created, unlisted, relisted, or deleted from the package source.</span></span> <span data-ttu-id="9e8a3-128">En traitant les éléments de catalogue par ordre chronologique, le client peut créer une vue à jour de chaque package existant sur la source du package v3.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-128">By processing the catalog items in chronological order, the client can build an up-to-date view of every package that exists on the V3 package source.</span></span>

<span data-ttu-id="9e8a3-129">En bref, les objets BLOB de catalogue ont la structure hiérarchique suivante :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-129">In short, catalog blobs have the following hierarchical structure:</span></span>

- <span data-ttu-id="9e8a3-130">**Index**: point d’entrée du catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-130">**Index**: the entry point for the catalog.</span></span>
- <span data-ttu-id="9e8a3-131">**Page**: regroupement d’éléments de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-131">**Page**: a grouping of catalog items.</span></span>
- <span data-ttu-id="9e8a3-132">**Feuille**: document représentant un élément de catalogue, qui est un instantané de l’état d’un package unique.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-132">**Leaf**: a document representing a catalog item, which is a snapshot of a single package's state.</span></span>

<span data-ttu-id="9e8a3-133">Chaque objet Catalogue a une propriété appelée `commitTimeStamp` qui représente le moment où l’élément a été ajouté au catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-133">Each catalog object has a property called the `commitTimeStamp` representing when the item was added to the catalog.</span></span> <span data-ttu-id="9e8a3-134">Les éléments de catalogue sont ajoutés à une page de catalogue par lots appelés validations.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-134">Catalog items are added to a catalog page in batches called commits.</span></span> <span data-ttu-id="9e8a3-135">Tous les éléments de catalogue dans la même validation ont le même horodatage de validation ( `commitTimeStamp` ) et l’ID de validation ( `commitId` ).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-135">All catalog items in the same commit have the same commit timestamp (`commitTimeStamp`) and commit ID (`commitId`).</span></span> <span data-ttu-id="9e8a3-136">Les éléments de catalogue placés dans la même validation représentent des événements qui se sont produits à peu près au même point dans le temps de la source du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-136">Catalog items placed in the same commit represent events that happened around the same point in time on the package source.</span></span> <span data-ttu-id="9e8a3-137">Il n’y a aucun classement dans une validation de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-137">There is no ordering within a catalog commit.</span></span>

<span data-ttu-id="9e8a3-138">Étant donné que chaque ID de package et version est unique, il n’y aura jamais plus d’un élément de catalogue dans une validation.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-138">Because each package ID and version is unique, there will never be more than one catalog item in a commit.</span></span> <span data-ttu-id="9e8a3-139">Cela permet de s’assurer que les éléments du catalogue d’un package unique peuvent toujours être triés sans ambiguïté par rapport au datage de validation.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-139">This ensures that catalog items for a single package can always be unambiguously ordered with respect to commit timestamp.</span></span>

<span data-ttu-id="9e8a3-140">Il n’y a jamais plus d’une validation dans le catalogue par `commitTimeStamp` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-140">There is never be more than one commit to the catalog per `commitTimeStamp`.</span></span> <span data-ttu-id="9e8a3-141">En d’autres termes, le `commitId` est redondant avec le `commitTimeStamp` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-141">In other words, the `commitId` is redundant with the `commitTimeStamp`.</span></span>

<span data-ttu-id="9e8a3-142">Contrairement à la [ressource de métadonnées du package](registration-base-url-resource.md), qui est indexée par ID de package, le catalogue est indexé (et peut être interrogé) uniquement par heure.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-142">In contrast to the [package metadata resource](registration-base-url-resource.md), which is indexed by package ID, the catalog is indexed (and queryable) only by time.</span></span>

<span data-ttu-id="9e8a3-143">Les éléments de catalogue sont toujours ajoutés au catalogue dans un ordre chronologique croissant.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-143">Catalog items are always added to the catalog in a monotonically increasing, chronological order.</span></span> <span data-ttu-id="9e8a3-144">Cela signifie que si une validation de catalogue est ajoutée à l’heure X, aucune validation de catalogue ne sera jamais ajoutée avec une heure inférieure ou égale à X.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-144">This means that if a catalog commit is added at time X then no catalog commit will ever be added with a time less than or equal to X.</span></span>

<span data-ttu-id="9e8a3-145">La requête suivante extrait l’index du catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-145">The following request fetches the catalog index.</span></span>

```
GET {@id}
```

<span data-ttu-id="9e8a3-146">L’index de catalogue est un document JSON qui contient un objet avec les propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-146">The catalog index is a JSON document that contains an object with the following properties:</span></span>

<span data-ttu-id="9e8a3-147">Nom</span><span class="sxs-lookup"><span data-stu-id="9e8a3-147">Name</span></span>            | <span data-ttu-id="9e8a3-148">Type</span><span class="sxs-lookup"><span data-stu-id="9e8a3-148">Type</span></span>             | <span data-ttu-id="9e8a3-149">Obligatoire</span><span class="sxs-lookup"><span data-stu-id="9e8a3-149">Required</span></span> | <span data-ttu-id="9e8a3-150">Notes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-150">Notes</span></span>
--------------- | ---------------- | -------- | -----
<span data-ttu-id="9e8a3-151">commitId</span><span class="sxs-lookup"><span data-stu-id="9e8a3-151">commitId</span></span>        | <span data-ttu-id="9e8a3-152">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-152">string</span></span>           | <span data-ttu-id="9e8a3-153">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-153">yes</span></span>      | <span data-ttu-id="9e8a3-154">ID unique associé à la validation la plus récente</span><span class="sxs-lookup"><span data-stu-id="9e8a3-154">A unique ID associated with the most recent commit</span></span>
<span data-ttu-id="9e8a3-155">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="9e8a3-155">commitTimeStamp</span></span> | <span data-ttu-id="9e8a3-156">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-156">string</span></span>           | <span data-ttu-id="9e8a3-157">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-157">yes</span></span>      | <span data-ttu-id="9e8a3-158">Horodateur de la validation la plus récente</span><span class="sxs-lookup"><span data-stu-id="9e8a3-158">A timestamp of the most recent commit</span></span>
<span data-ttu-id="9e8a3-159">count</span><span class="sxs-lookup"><span data-stu-id="9e8a3-159">count</span></span>           | <span data-ttu-id="9e8a3-160">entier</span><span class="sxs-lookup"><span data-stu-id="9e8a3-160">integer</span></span>          | <span data-ttu-id="9e8a3-161">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-161">yes</span></span>      | <span data-ttu-id="9e8a3-162">Nombre de pages dans l’index</span><span class="sxs-lookup"><span data-stu-id="9e8a3-162">The number of pages in the index</span></span>
<span data-ttu-id="9e8a3-163">items</span><span class="sxs-lookup"><span data-stu-id="9e8a3-163">items</span></span>           | <span data-ttu-id="9e8a3-164">tableau d’objets</span><span class="sxs-lookup"><span data-stu-id="9e8a3-164">array of objects</span></span> | <span data-ttu-id="9e8a3-165">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-165">yes</span></span>      | <span data-ttu-id="9e8a3-166">Tableau d’objets, chaque objet représentant une page</span><span class="sxs-lookup"><span data-stu-id="9e8a3-166">A array of objects, each object representing a page</span></span>

<span data-ttu-id="9e8a3-167">Chaque élément du `items` tableau est un objet avec des détails minimes sur chaque page.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-167">Each element in the `items` array is an object with some minimal details about each page.</span></span> <span data-ttu-id="9e8a3-168">Ces objets de page ne contiennent pas les feuilles de catalogue (éléments).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-168">These page objects do not contain the catalog leaves (items).</span></span> <span data-ttu-id="9e8a3-169">L’ordre des éléments dans ce tableau n’est pas défini.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-169">The order of the elements in this array is not defined.</span></span> <span data-ttu-id="9e8a3-170">Les pages peuvent être triées par le client en mémoire à l’aide de leur `commitTimeStamp` propriété.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-170">Pages can be ordered by the client in memory using their `commitTimeStamp` property.</span></span>

<span data-ttu-id="9e8a3-171">À mesure que de nouvelles pages sont introduites, l' `count` est incrémenté et de nouveaux objets s’affichent dans le `items` tableau.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-171">As new pages are introduced, the `count` will be incremented and new objects will appear in the `items` array.</span></span>

<span data-ttu-id="9e8a3-172">Au fur et à mesure que des éléments sont ajoutés au catalogue, l’index est `commitId` modifié et l' `commitTimeStamp` opération augmente.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-172">As items are added to the catalog, the index's `commitId` will change and the `commitTimeStamp` will increase.</span></span> <span data-ttu-id="9e8a3-173">Ces deux propriétés sont essentiellement un résumé de toutes les pages `commitId` et `commitTimeStamp` valeurs du `items` tableau.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-173">These two properties are essentially a summary over all page `commitId` and `commitTimeStamp` values in the `items` array.</span></span>

### <a name="catalog-page-object-in-the-index"></a><span data-ttu-id="9e8a3-174">Objet de page de catalogue dans l’index</span><span class="sxs-lookup"><span data-stu-id="9e8a3-174">Catalog page object in the index</span></span>

<span data-ttu-id="9e8a3-175">Les objets de page de catalogue trouvés dans la propriété de l’index de catalogue `items` ont les propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-175">The catalog page objects found in the catalog index's `items` property have the following properties:</span></span>

<span data-ttu-id="9e8a3-176">Nom</span><span class="sxs-lookup"><span data-stu-id="9e8a3-176">Name</span></span>            | <span data-ttu-id="9e8a3-177">Type</span><span class="sxs-lookup"><span data-stu-id="9e8a3-177">Type</span></span>    | <span data-ttu-id="9e8a3-178">Obligatoire</span><span class="sxs-lookup"><span data-stu-id="9e8a3-178">Required</span></span> | <span data-ttu-id="9e8a3-179">Notes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-179">Notes</span></span>
--------------- | ------- | -------- | -----
@id             | <span data-ttu-id="9e8a3-180">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-180">string</span></span>  | <span data-ttu-id="9e8a3-181">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-181">yes</span></span>      | <span data-ttu-id="9e8a3-182">URL de récupération de la page de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-182">The URL to fetch catalog page</span></span>
<span data-ttu-id="9e8a3-183">commitId</span><span class="sxs-lookup"><span data-stu-id="9e8a3-183">commitId</span></span>        | <span data-ttu-id="9e8a3-184">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-184">string</span></span>  | <span data-ttu-id="9e8a3-185">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-185">yes</span></span>      | <span data-ttu-id="9e8a3-186">ID unique associé à la validation la plus récente dans cette page</span><span class="sxs-lookup"><span data-stu-id="9e8a3-186">A unique ID associated with the most recent commit in this page</span></span>
<span data-ttu-id="9e8a3-187">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="9e8a3-187">commitTimeStamp</span></span> | <span data-ttu-id="9e8a3-188">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-188">string</span></span>  | <span data-ttu-id="9e8a3-189">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-189">yes</span></span>      | <span data-ttu-id="9e8a3-190">Horodateur de la dernière validation dans cette page</span><span class="sxs-lookup"><span data-stu-id="9e8a3-190">A timestamp of the most recent commit in this page</span></span>
<span data-ttu-id="9e8a3-191">count</span><span class="sxs-lookup"><span data-stu-id="9e8a3-191">count</span></span>           | <span data-ttu-id="9e8a3-192">entier</span><span class="sxs-lookup"><span data-stu-id="9e8a3-192">integer</span></span> | <span data-ttu-id="9e8a3-193">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-193">yes</span></span>      | <span data-ttu-id="9e8a3-194">Nombre d’éléments dans la page de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-194">The number of items in the catalog page</span></span>

<span data-ttu-id="9e8a3-195">Contrairement à la [ressource de métadonnées de package](registration-base-url-resource.md) , qui, dans certains cas, insère des feuilles dans l’index, les feuilles de catalogue ne sont jamais inline dans l’index et doivent toujours être extraites à l’aide de l’URL de la page `@id` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-195">In contrast to the [package metadata resource](registration-base-url-resource.md) which in some cases inlines leaves into the index, catalog leaves are never inlined into the index and must always be fetched by using the page's `@id` URL.</span></span>

### <a name="sample-request"></a><span data-ttu-id="9e8a3-196">Exemple de requête</span><span class="sxs-lookup"><span data-stu-id="9e8a3-196">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/index.json
```

### <a name="sample-response"></a><span data-ttu-id="9e8a3-197">Exemple de réponse</span><span class="sxs-lookup"><span data-stu-id="9e8a3-197">Sample response</span></span>

[!code-JSON [catalog-index.json](./_data/catalog-index.json)]

## <a name="catalog-page"></a><span data-ttu-id="9e8a3-198">Page catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-198">Catalog page</span></span>

<span data-ttu-id="9e8a3-199">La page catalogue est une collection d’éléments de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-199">The catalog page is a collection of catalog items.</span></span> <span data-ttu-id="9e8a3-200">Il s’agit d’un document extrait à l’aide de l’une des `@id` valeurs figurant dans l’index du catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-200">It is a document fetched using one of the `@id` values found in the catalog index.</span></span> <span data-ttu-id="9e8a3-201">L’URL d’une page de catalogue n’est pas destinée à être prévisible et doit être découverte à l’aide de l’index de catalogue uniquement.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-201">The URL to a catalog page is not intended to be predictable and should be discovered using only the catalog index.</span></span>

<span data-ttu-id="9e8a3-202">Les nouveaux éléments de catalogue sont ajoutés à la page dans l’index de catalogue uniquement avec l’horodateur de validation le plus élevé ou vers une nouvelle page.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-202">New catalog items are added to the page in the catalog index only with the highest commit timestamp or to a new page.</span></span> <span data-ttu-id="9e8a3-203">Une fois qu’une page avec un horodateur de validation plus élevé est ajoutée au catalogue, les anciennes pages ne sont jamais ajoutées ou modifiées.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-203">Once a page with a higher commit timestamp is added to the catalog, older pages are never added to or changed.</span></span>

<span data-ttu-id="9e8a3-204">Le document de page de catalogue est un objet JSON avec les propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-204">The catalog page document is a JSON object with the following properties:</span></span>

<span data-ttu-id="9e8a3-205">Nom</span><span class="sxs-lookup"><span data-stu-id="9e8a3-205">Name</span></span>            | <span data-ttu-id="9e8a3-206">Type</span><span class="sxs-lookup"><span data-stu-id="9e8a3-206">Type</span></span>             | <span data-ttu-id="9e8a3-207">Obligatoire</span><span class="sxs-lookup"><span data-stu-id="9e8a3-207">Required</span></span> | <span data-ttu-id="9e8a3-208">Notes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-208">Notes</span></span>
--------------- | ---------------- | -------- | -----
<span data-ttu-id="9e8a3-209">commitId</span><span class="sxs-lookup"><span data-stu-id="9e8a3-209">commitId</span></span>        | <span data-ttu-id="9e8a3-210">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-210">string</span></span>           | <span data-ttu-id="9e8a3-211">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-211">yes</span></span>      | <span data-ttu-id="9e8a3-212">ID unique associé à la validation la plus récente dans cette page</span><span class="sxs-lookup"><span data-stu-id="9e8a3-212">A unique ID associated with the most recent commit in this page</span></span>
<span data-ttu-id="9e8a3-213">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="9e8a3-213">commitTimeStamp</span></span> | <span data-ttu-id="9e8a3-214">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-214">string</span></span>           | <span data-ttu-id="9e8a3-215">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-215">yes</span></span>      | <span data-ttu-id="9e8a3-216">Horodateur de la dernière validation dans cette page</span><span class="sxs-lookup"><span data-stu-id="9e8a3-216">A timestamp of the most recent commit in this page</span></span>
<span data-ttu-id="9e8a3-217">count</span><span class="sxs-lookup"><span data-stu-id="9e8a3-217">count</span></span>           | <span data-ttu-id="9e8a3-218">entier</span><span class="sxs-lookup"><span data-stu-id="9e8a3-218">integer</span></span>          | <span data-ttu-id="9e8a3-219">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-219">yes</span></span>      | <span data-ttu-id="9e8a3-220">Nombre d’éléments dans la page</span><span class="sxs-lookup"><span data-stu-id="9e8a3-220">The number of items in the page</span></span>
<span data-ttu-id="9e8a3-221">items</span><span class="sxs-lookup"><span data-stu-id="9e8a3-221">items</span></span>           | <span data-ttu-id="9e8a3-222">tableau d’objets</span><span class="sxs-lookup"><span data-stu-id="9e8a3-222">array of objects</span></span> | <span data-ttu-id="9e8a3-223">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-223">yes</span></span>      | <span data-ttu-id="9e8a3-224">Éléments du catalogue dans cette page</span><span class="sxs-lookup"><span data-stu-id="9e8a3-224">The catalog items in this page</span></span>
<span data-ttu-id="9e8a3-225">parent</span><span class="sxs-lookup"><span data-stu-id="9e8a3-225">parent</span></span>          | <span data-ttu-id="9e8a3-226">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-226">string</span></span>           | <span data-ttu-id="9e8a3-227">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-227">yes</span></span>      | <span data-ttu-id="9e8a3-228">URL de l’index du catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-228">A URL to the catalog index</span></span>

<span data-ttu-id="9e8a3-229">Chaque élément du `items` tableau est un objet avec des détails minimes sur l’élément du catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-229">Each element in the `items` array is an object with some minimal details about the catalog item.</span></span> <span data-ttu-id="9e8a3-230">Ces objets d’élément ne contiennent pas toutes les données de l’élément de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-230">These item objects do not contain all of the catalog item's data.</span></span> <span data-ttu-id="9e8a3-231">L’ordre des éléments dans le tableau de la page `items` n’est pas défini.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-231">The order of the items in the page's `items` array is not defined.</span></span> <span data-ttu-id="9e8a3-232">Les éléments peuvent être triés par le client en mémoire à l’aide de leur `commitTimeStamp` propriété.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-232">Items can be ordered by the client in memory using their `commitTimeStamp` property.</span></span>

<span data-ttu-id="9e8a3-233">Le nombre d’éléments de catalogue dans une page est défini par l’implémentation du serveur.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-233">The number of catalog items in a page is defined by server implementation.</span></span> <span data-ttu-id="9e8a3-234">Pour nuget.org, il y a au plus 550 éléments dans chaque page, bien que le nombre réel puisse être plus petit pour certaines pages en fonction de la taille du lot de validation suivant à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-234">For nuget.org, there are at most 550 items in each page, although the actual number may be smaller for some pages depending on the size of the next commit batch at the point in time.</span></span>

<span data-ttu-id="9e8a3-235">À mesure que de nouveaux éléments sont introduits, le `count` est incrémenté et les nouveaux objets d’élément de catalogue apparaissent dans le `items` tableau.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-235">As new items are introduced, the `count` is incremented and new catalog item objects appear in the `items` array.</span></span>

<span data-ttu-id="9e8a3-236">À mesure que des éléments sont ajoutés à la page, les `commitId` modifications et `commitTimeStamp` augmentent.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-236">As items are added to the page, the `commitId` changes and the `commitTimeStamp` increases.</span></span> <span data-ttu-id="9e8a3-237">Ces deux propriétés sont essentiellement un résumé de toutes `commitId` les `commitTimeStamp` valeurs et dans le `items` tableau.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-237">These two properties are essentially a summary over all `commitId` and `commitTimeStamp` values in the `items` array.</span></span>

### <a name="catalog-item-object-in-a-page"></a><span data-ttu-id="9e8a3-238">Objet d’élément de catalogue dans une page</span><span class="sxs-lookup"><span data-stu-id="9e8a3-238">Catalog item object in a page</span></span>

<span data-ttu-id="9e8a3-239">Les objets d’élément de catalogue trouvés dans la propriété de la page du catalogue `items` ont les propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-239">The catalog item objects found in the catalog page's `items` property have the following properties:</span></span>

<span data-ttu-id="9e8a3-240">Nom</span><span class="sxs-lookup"><span data-stu-id="9e8a3-240">Name</span></span>            | <span data-ttu-id="9e8a3-241">Type</span><span class="sxs-lookup"><span data-stu-id="9e8a3-241">Type</span></span>    | <span data-ttu-id="9e8a3-242">Obligatoire</span><span class="sxs-lookup"><span data-stu-id="9e8a3-242">Required</span></span> | <span data-ttu-id="9e8a3-243">Notes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-243">Notes</span></span>
--------------- | ------- | -------- | -----
@id             | <span data-ttu-id="9e8a3-244">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-244">string</span></span>  | <span data-ttu-id="9e8a3-245">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-245">yes</span></span>      | <span data-ttu-id="9e8a3-246">URL permettant de récupérer l’élément de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-246">The URL to fetch the catalog item</span></span>
@type           | <span data-ttu-id="9e8a3-247">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-247">string</span></span>  | <span data-ttu-id="9e8a3-248">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-248">yes</span></span>      | <span data-ttu-id="9e8a3-249">Type de l’élément de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-249">The type of the catalog item</span></span>
<span data-ttu-id="9e8a3-250">commitId</span><span class="sxs-lookup"><span data-stu-id="9e8a3-250">commitId</span></span>        | <span data-ttu-id="9e8a3-251">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-251">string</span></span>  | <span data-ttu-id="9e8a3-252">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-252">yes</span></span>      | <span data-ttu-id="9e8a3-253">ID de validation associé à cet élément de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-253">The commit ID associated with this catalog item</span></span>
<span data-ttu-id="9e8a3-254">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="9e8a3-254">commitTimeStamp</span></span> | <span data-ttu-id="9e8a3-255">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-255">string</span></span>  | <span data-ttu-id="9e8a3-256">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-256">yes</span></span>      | <span data-ttu-id="9e8a3-257">Horodatage de validation de cet élément de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-257">The commit timestamp of this catalog item</span></span>
<span data-ttu-id="9e8a3-258">NuGet : ID</span><span class="sxs-lookup"><span data-stu-id="9e8a3-258">nuget:id</span></span>        | <span data-ttu-id="9e8a3-259">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-259">string</span></span>  | <span data-ttu-id="9e8a3-260">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-260">yes</span></span>      | <span data-ttu-id="9e8a3-261">ID de package associé à ce nœud terminal</span><span class="sxs-lookup"><span data-stu-id="9e8a3-261">The package ID that this leaf is related to</span></span>
<span data-ttu-id="9e8a3-262">NuGet : version</span><span class="sxs-lookup"><span data-stu-id="9e8a3-262">nuget:version</span></span>   | <span data-ttu-id="9e8a3-263">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-263">string</span></span>  | <span data-ttu-id="9e8a3-264">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-264">yes</span></span>      | <span data-ttu-id="9e8a3-265">Version du package à laquelle cette feuille est associée</span><span class="sxs-lookup"><span data-stu-id="9e8a3-265">The package version that this leaf is related to</span></span>

<span data-ttu-id="9e8a3-266">La `@type` valeur sera l’une des deux valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-266">The `@type` value will be one of the following two values:</span></span>

1. <span data-ttu-id="9e8a3-267">`nuget:PackageDetails`: correspond au `PackageDetails` type dans le document feuille du catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-267">`nuget:PackageDetails`: this corresponds to `PackageDetails` type in the catalog leaf document.</span></span>
1. <span data-ttu-id="9e8a3-268">`nuget:PackageDelete`: correspond au `PackageDelete` type dans le document feuille du catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-268">`nuget:PackageDelete`: this corresponds to the `PackageDelete` type in the catalog leaf document.</span></span>

<span data-ttu-id="9e8a3-269">Pour plus d’informations sur la signification de chaque type, consultez le [type d’élément correspondant](#item-types) ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-269">For more details about what each type means, see the [corresponding items type](#item-types) below.</span></span>

### <a name="sample-request"></a><span data-ttu-id="9e8a3-270">Exemple de requête</span><span class="sxs-lookup"><span data-stu-id="9e8a3-270">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/page2926.json
```

### <a name="sample-response"></a><span data-ttu-id="9e8a3-271">Exemple de réponse</span><span class="sxs-lookup"><span data-stu-id="9e8a3-271">Sample response</span></span>

[!code-JSON [catalog-page.json](./_data/catalog-page.json)]

## <a name="catalog-leaf"></a><span data-ttu-id="9e8a3-272">Feuille du catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-272">Catalog leaf</span></span>

<span data-ttu-id="9e8a3-273">Le catalogue feuille contient des métadonnées sur un ID de package et une version spécifiques à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-273">The catalog leaf contains metadata about a specific package ID and version at some point in time.</span></span> <span data-ttu-id="9e8a3-274">Il s’agit d’un document extrait à l’aide de la `@id` valeur trouvée dans une page de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-274">It is a document fetched using the `@id` value found in a catalog page.</span></span> <span data-ttu-id="9e8a3-275">L’URL d’une feuille de catalogue n’est pas destinée à être prévisible et doit être découverte à l’aide d’une page de catalogue uniquement.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-275">The URL to a catalog leaf is not intended to be predictable and should be discovered using only a catalog page.</span></span>

<span data-ttu-id="9e8a3-276">Le document feuille du catalogue est un objet JSON avec les propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-276">The catalog leaf document is a JSON object with the following properties:</span></span>

<span data-ttu-id="9e8a3-277">Nom</span><span class="sxs-lookup"><span data-stu-id="9e8a3-277">Name</span></span>                    | <span data-ttu-id="9e8a3-278">Type</span><span class="sxs-lookup"><span data-stu-id="9e8a3-278">Type</span></span>                       | <span data-ttu-id="9e8a3-279">Obligatoire</span><span class="sxs-lookup"><span data-stu-id="9e8a3-279">Required</span></span> | <span data-ttu-id="9e8a3-280">Notes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-280">Notes</span></span>
----------------------- | -------------------------- | -------- | -----
@type                   | <span data-ttu-id="9e8a3-281">chaîne ou tableau de chaînes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-281">string or array of strings</span></span> | <span data-ttu-id="9e8a3-282">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-282">yes</span></span>      | <span data-ttu-id="9e8a3-283">Type (s) de l’élément de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-283">The type(s) of the catalog item</span></span>
<span data-ttu-id="9e8a3-284">Catalogue : commitId</span><span class="sxs-lookup"><span data-stu-id="9e8a3-284">catalog:commitId</span></span>        | <span data-ttu-id="9e8a3-285">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-285">string</span></span>                     | <span data-ttu-id="9e8a3-286">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-286">yes</span></span>      | <span data-ttu-id="9e8a3-287">ID de validation associé à cet élément de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-287">A commit ID associated with this catalog item</span></span>
<span data-ttu-id="9e8a3-288">Catalogue : commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="9e8a3-288">catalog:commitTimeStamp</span></span> | <span data-ttu-id="9e8a3-289">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-289">string</span></span>                     | <span data-ttu-id="9e8a3-290">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-290">yes</span></span>      | <span data-ttu-id="9e8a3-291">Horodatage de validation de cet élément de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-291">The commit timestamp of this catalog item</span></span>
<span data-ttu-id="9e8a3-292">id</span><span class="sxs-lookup"><span data-stu-id="9e8a3-292">id</span></span>                      | <span data-ttu-id="9e8a3-293">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-293">string</span></span>                     | <span data-ttu-id="9e8a3-294">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-294">yes</span></span>      | <span data-ttu-id="9e8a3-295">ID de package de l’élément de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-295">The package ID of the catalog item</span></span>
<span data-ttu-id="9e8a3-296">published</span><span class="sxs-lookup"><span data-stu-id="9e8a3-296">published</span></span>               | <span data-ttu-id="9e8a3-297">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-297">string</span></span>                     | <span data-ttu-id="9e8a3-298">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-298">yes</span></span>      | <span data-ttu-id="9e8a3-299">Date de publication de l’élément du catalogue de packages</span><span class="sxs-lookup"><span data-stu-id="9e8a3-299">The published date of the package catalog item</span></span>
<span data-ttu-id="9e8a3-300">version</span><span class="sxs-lookup"><span data-stu-id="9e8a3-300">version</span></span>                 | <span data-ttu-id="9e8a3-301">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-301">string</span></span>                     | <span data-ttu-id="9e8a3-302">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-302">yes</span></span>      | <span data-ttu-id="9e8a3-303">Version du package de l’élément de catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-303">The package version of the catalog item</span></span>

### <a name="item-types"></a><span data-ttu-id="9e8a3-304">Types d’éléments</span><span class="sxs-lookup"><span data-stu-id="9e8a3-304">Item types</span></span>

<span data-ttu-id="9e8a3-305">La `@type` propriété est une chaîne ou un tableau de chaînes.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-305">The `@type` property is a string or array of strings.</span></span> <span data-ttu-id="9e8a3-306">Pour plus de commodité, si la `@type` valeur est une chaîne, elle doit être traitée comme n’importe quel tableau de taille 1.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-306">For convenience, if the `@type` value is a string, it should be treated as any array of size one.</span></span> <span data-ttu-id="9e8a3-307">Toutes les valeurs possibles pour `@type` ne sont pas documentées.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-307">Not all possible values for `@type` are documented.</span></span> <span data-ttu-id="9e8a3-308">Toutefois, chaque élément de catalogue a exactement une des deux valeurs de type chaîne suivantes :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-308">However, each catalog item has exactly one of the two following string type values:</span></span>

1. <span data-ttu-id="9e8a3-309">`PackageDetails`: représente un instantané des métadonnées du package</span><span class="sxs-lookup"><span data-stu-id="9e8a3-309">`PackageDetails`: represents a snapshot of package metadata</span></span>
1. <span data-ttu-id="9e8a3-310">`PackageDelete`: représente un package qui a été supprimé.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-310">`PackageDelete`: represents a package that was deleted</span></span>

### <a name="package-details-catalog-items"></a><span data-ttu-id="9e8a3-311">Détails du package éléments du catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-311">Package details catalog items</span></span>

<span data-ttu-id="9e8a3-312">Les éléments de catalogue avec le type `PackageDetails` contiennent un instantané des métadonnées du package pour un package spécifique (combinaison ID-version).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-312">Catalog items with the type `PackageDetails` contain a snapshot of package metadata for a specific package (ID and version combination).</span></span> <span data-ttu-id="9e8a3-313">Un élément de catalogue Détails du package est généré quand une source de package rencontre l’un des scénarios suivants :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-313">A package details catalog item is produced when a package source encounters any of the following scenarios:</span></span>

1. <span data-ttu-id="9e8a3-314">Un package fait l’objet d’un **Push**.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-314">A package is **pushed**.</span></span>
1. <span data-ttu-id="9e8a3-315">Un package est **listé**.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-315">A package is **listed**.</span></span>
1. <span data-ttu-id="9e8a3-316">Un package n’est pas **répertorié**.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-316">A package is **unlisted**.</span></span>
1. <span data-ttu-id="9e8a3-317">Un package est **redistribué**.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-317">A package is **reflowed**.</span></span>

<span data-ttu-id="9e8a3-318">Un redistribution de package est un geste administratif qui génère essentiellement un faux push d’un package existant sans modification du package lui-même.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-318">A package reflow is an administrative gesture that essentially generates a fake push of an existing package with no changes to the package itself.</span></span> <span data-ttu-id="9e8a3-319">Sur nuget.org, un redistribution est utilisé après avoir corrigé un bogue dans l’une des tâches en arrière-plan qui consomment le catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-319">On nuget.org, a reflow is used after fixing a bug in one of the background jobs which consume the catalog.</span></span>

<span data-ttu-id="9e8a3-320">Les clients qui utilisent les éléments du catalogue ne doivent pas tenter de déterminer lequel de ces scénarios a produit l’élément de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-320">Clients consuming the catalog items should not attempt to determine which of these scenarios produced the catalog item.</span></span> <span data-ttu-id="9e8a3-321">Au lieu de cela, le client doit simplement mettre à jour toute vue ou tout index géré avec les métadonnées contenues dans l’élément du catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-321">Instead, the client should simply update any maintained view or index with the metadata contained in the catalog item.</span></span> <span data-ttu-id="9e8a3-322">En outre, les éléments de catalogue dupliqués ou redondants doivent être gérés normalement (manière idempotente).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-322">Furthermore, duplicate or redundant catalog items should be handled gracefully (idempotently).</span></span>

<span data-ttu-id="9e8a3-323">Détails du package les éléments du catalogue ont les propriétés suivantes en plus de celles [incluses dans tous les feuilles de catalogue](#catalog-leaf).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-323">Package details catalog items have the following properties in addition to those [included on all catalog leaves](#catalog-leaf).</span></span>

<span data-ttu-id="9e8a3-324">Nom</span><span class="sxs-lookup"><span data-stu-id="9e8a3-324">Name</span></span>                    | <span data-ttu-id="9e8a3-325">Type</span><span class="sxs-lookup"><span data-stu-id="9e8a3-325">Type</span></span>                       | <span data-ttu-id="9e8a3-326">Obligatoire</span><span class="sxs-lookup"><span data-stu-id="9e8a3-326">Required</span></span> | <span data-ttu-id="9e8a3-327">Notes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-327">Notes</span></span>
----------------------- | -------------------------- | -------- | -----
<span data-ttu-id="9e8a3-328">authors</span><span class="sxs-lookup"><span data-stu-id="9e8a3-328">authors</span></span>                 | <span data-ttu-id="9e8a3-329">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-329">string</span></span>                     | <span data-ttu-id="9e8a3-330">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-330">no</span></span>       |
<span data-ttu-id="9e8a3-331">created</span><span class="sxs-lookup"><span data-stu-id="9e8a3-331">created</span></span>                 | <span data-ttu-id="9e8a3-332">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-332">string</span></span>                     | <span data-ttu-id="9e8a3-333">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-333">no</span></span>       | <span data-ttu-id="9e8a3-334">Horodateur du moment où le package a été créé pour la première fois.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-334">A timestamp of when the package was first created.</span></span> <span data-ttu-id="9e8a3-335">Propriété de secours : `published` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-335">Fallback property: `published`.</span></span>
<span data-ttu-id="9e8a3-336">dependencyGroups</span><span class="sxs-lookup"><span data-stu-id="9e8a3-336">dependencyGroups</span></span>        | <span data-ttu-id="9e8a3-337">tableau d’objets</span><span class="sxs-lookup"><span data-stu-id="9e8a3-337">array of objects</span></span>           | <span data-ttu-id="9e8a3-338">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-338">no</span></span>       | <span data-ttu-id="9e8a3-339">Les dépendances du package, regroupées par version cible du .NET Framework ([même format que la ressource de métadonnées du package](registration-base-url-resource.md#package-dependency-group))</span><span class="sxs-lookup"><span data-stu-id="9e8a3-339">The dependencies of the package, grouped by target framework ([same format as the package metadata resource](registration-base-url-resource.md#package-dependency-group))</span></span>
<span data-ttu-id="9e8a3-340">désapprobation</span><span class="sxs-lookup"><span data-stu-id="9e8a3-340">deprecation</span></span>             | <span data-ttu-id="9e8a3-341">objet</span><span class="sxs-lookup"><span data-stu-id="9e8a3-341">object</span></span>                     | <span data-ttu-id="9e8a3-342">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-342">no</span></span>       | <span data-ttu-id="9e8a3-343">La désapprobation associée au package ([même format que la ressource de métadonnées du package](registration-base-url-resource.md#package-deprecation))</span><span class="sxs-lookup"><span data-stu-id="9e8a3-343">The deprecation associated with the package ([same format as the package metadata resource](registration-base-url-resource.md#package-deprecation))</span></span>
<span data-ttu-id="9e8a3-344">description</span><span class="sxs-lookup"><span data-stu-id="9e8a3-344">description</span></span>             | <span data-ttu-id="9e8a3-345">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-345">string</span></span>                     | <span data-ttu-id="9e8a3-346">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-346">no</span></span>       |
<span data-ttu-id="9e8a3-347">iconUrl</span><span class="sxs-lookup"><span data-stu-id="9e8a3-347">iconUrl</span></span>                 | <span data-ttu-id="9e8a3-348">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-348">string</span></span>                     | <span data-ttu-id="9e8a3-349">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-349">no</span></span>       |
<span data-ttu-id="9e8a3-350">isPrerelease</span><span class="sxs-lookup"><span data-stu-id="9e8a3-350">isPrerelease</span></span>            | <span data-ttu-id="9e8a3-351">boolean</span><span class="sxs-lookup"><span data-stu-id="9e8a3-351">boolean</span></span>                    | <span data-ttu-id="9e8a3-352">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-352">no</span></span>       | <span data-ttu-id="9e8a3-353">Indique si la version du package est préliminaire.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-353">Whether or not the package version is prerelease.</span></span> <span data-ttu-id="9e8a3-354">Peut être détecté à partir de `version` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-354">Can be detected from `version`.</span></span>
<span data-ttu-id="9e8a3-355">langage</span><span class="sxs-lookup"><span data-stu-id="9e8a3-355">language</span></span>                | <span data-ttu-id="9e8a3-356">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-356">string</span></span>                     | <span data-ttu-id="9e8a3-357">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-357">no</span></span>       |
<span data-ttu-id="9e8a3-358">licenseUrl</span><span class="sxs-lookup"><span data-stu-id="9e8a3-358">licenseUrl</span></span>              | <span data-ttu-id="9e8a3-359">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-359">string</span></span>                     | <span data-ttu-id="9e8a3-360">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-360">no</span></span>       |
<span data-ttu-id="9e8a3-361">liste</span><span class="sxs-lookup"><span data-stu-id="9e8a3-361">listed</span></span>                  | <span data-ttu-id="9e8a3-362">boolean</span><span class="sxs-lookup"><span data-stu-id="9e8a3-362">boolean</span></span>                    | <span data-ttu-id="9e8a3-363">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-363">no</span></span>       | <span data-ttu-id="9e8a3-364">Indique si le package est ou non listé</span><span class="sxs-lookup"><span data-stu-id="9e8a3-364">Whether or not the package is listed</span></span>
<span data-ttu-id="9e8a3-365">minClientVersion</span><span class="sxs-lookup"><span data-stu-id="9e8a3-365">minClientVersion</span></span>        | <span data-ttu-id="9e8a3-366">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-366">string</span></span>                     | <span data-ttu-id="9e8a3-367">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-367">no</span></span>       |
<span data-ttu-id="9e8a3-368">packageHash</span><span class="sxs-lookup"><span data-stu-id="9e8a3-368">packageHash</span></span>             | <span data-ttu-id="9e8a3-369">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-369">string</span></span>                     | <span data-ttu-id="9e8a3-370">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-370">yes</span></span>      | <span data-ttu-id="9e8a3-371">Hachage du package, encodage à l’aide de la [base standard 64](https://tools.ietf.org/html/rfc4648#section-4)</span><span class="sxs-lookup"><span data-stu-id="9e8a3-371">The hash of the package, encoding using [standard base 64](https://tools.ietf.org/html/rfc4648#section-4)</span></span>
<span data-ttu-id="9e8a3-372">packageHashAlgorithm</span><span class="sxs-lookup"><span data-stu-id="9e8a3-372">packageHashAlgorithm</span></span>    | <span data-ttu-id="9e8a3-373">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-373">string</span></span>                     | <span data-ttu-id="9e8a3-374">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-374">yes</span></span>      |
<span data-ttu-id="9e8a3-375">empaqueter</span><span class="sxs-lookup"><span data-stu-id="9e8a3-375">packageSize</span></span>             | <span data-ttu-id="9e8a3-376">entier</span><span class="sxs-lookup"><span data-stu-id="9e8a3-376">integer</span></span>                    | <span data-ttu-id="9e8a3-377">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-377">yes</span></span>      | <span data-ttu-id="9e8a3-378">Taille du package. nupkg en octets</span><span class="sxs-lookup"><span data-stu-id="9e8a3-378">The size of the package .nupkg in bytes</span></span>
<span data-ttu-id="9e8a3-379">packageTypes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-379">packageTypes</span></span>            | <span data-ttu-id="9e8a3-380">tableau d’objets</span><span class="sxs-lookup"><span data-stu-id="9e8a3-380">array of objects</span></span>           | <span data-ttu-id="9e8a3-381">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-381">no</span></span>       | <span data-ttu-id="9e8a3-382">Types de packages spécifiés par l’auteur.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-382">The package types specified by the author.</span></span>
<span data-ttu-id="9e8a3-383">projectUrl</span><span class="sxs-lookup"><span data-stu-id="9e8a3-383">projectUrl</span></span>              | <span data-ttu-id="9e8a3-384">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-384">string</span></span>                     | <span data-ttu-id="9e8a3-385">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-385">no</span></span>       |
<span data-ttu-id="9e8a3-386">releaseNotes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-386">releaseNotes</span></span>            | <span data-ttu-id="9e8a3-387">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-387">string</span></span>                     | <span data-ttu-id="9e8a3-388">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-388">no</span></span>       |
<span data-ttu-id="9e8a3-389">requireLicenseAgreement</span><span class="sxs-lookup"><span data-stu-id="9e8a3-389">requireLicenseAgreement</span></span> | <span data-ttu-id="9e8a3-390">boolean</span><span class="sxs-lookup"><span data-stu-id="9e8a3-390">boolean</span></span>                    | <span data-ttu-id="9e8a3-391">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-391">no</span></span>       | <span data-ttu-id="9e8a3-392">Supposer `false` si exclu</span><span class="sxs-lookup"><span data-stu-id="9e8a3-392">Assume `false` if excluded</span></span>
<span data-ttu-id="9e8a3-393">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="9e8a3-393">summary</span></span>                 | <span data-ttu-id="9e8a3-394">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-394">string</span></span>                     | <span data-ttu-id="9e8a3-395">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-395">no</span></span>       |
<span data-ttu-id="9e8a3-396">tags</span><span class="sxs-lookup"><span data-stu-id="9e8a3-396">tags</span></span>                    | <span data-ttu-id="9e8a3-397">tableau de chaînes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-397">array of strings</span></span>           | <span data-ttu-id="9e8a3-398">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-398">no</span></span>       |
<span data-ttu-id="9e8a3-399">title</span><span class="sxs-lookup"><span data-stu-id="9e8a3-399">title</span></span>                   | <span data-ttu-id="9e8a3-400">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-400">string</span></span>                     | <span data-ttu-id="9e8a3-401">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-401">no</span></span>       |
<span data-ttu-id="9e8a3-402">verbatimVersion</span><span class="sxs-lookup"><span data-stu-id="9e8a3-402">verbatimVersion</span></span>         | <span data-ttu-id="9e8a3-403">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-403">string</span></span>                     | <span data-ttu-id="9e8a3-404">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-404">no</span></span>       | <span data-ttu-id="9e8a3-405">Chaîne de version telle qu’elle est trouvée à l’origine dans le. NuSpec</span><span class="sxs-lookup"><span data-stu-id="9e8a3-405">The version string as it's originally found in the .nuspec</span></span>

<span data-ttu-id="9e8a3-406">La propriété de package `version` est la chaîne de version complète après la normalisation.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-406">The package `version` property is the full version string after normalization.</span></span> <span data-ttu-id="9e8a3-407">Cela signifie que les données de build SemVer 2.0.0 peuvent être incluses ici.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-407">This means that SemVer 2.0.0 build data can be included here.</span></span>

<span data-ttu-id="9e8a3-408">L' `created` horodateur est le moment où le package a été reçu pour la première fois par la source du package, ce qui correspond généralement à une brève période avant l’horodatage de validation de l’élément de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-408">The `created` timestamp is when the package was first received by the package source, which is typically a short time before the catalog item's commit timestamp.</span></span>

<span data-ttu-id="9e8a3-409">`packageHashAlgorithm`Est une chaîne définie par l’implémentation de serveur qui représente l’algorithme de hachage utilisé pour produire le `packageHash` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-409">The `packageHashAlgorithm` is a string defined by the server implementation representing the hashing algorithm used to produce the `packageHash`.</span></span> <span data-ttu-id="9e8a3-410">nuget.org a toujours utilisé la `packageHashAlgorithm` valeur de `SHA512` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-410">nuget.org always used the `packageHashAlgorithm` value of `SHA512`.</span></span>

<span data-ttu-id="9e8a3-411">La `packageTypes` propriété est présente uniquement si un type de package a été spécifié par l’auteur.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-411">The `packageTypes` property will only be present if a package type was specified by the author.</span></span> <span data-ttu-id="9e8a3-412">S’il est présent, il aura toujours au moins une entrée (1).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-412">If it is present, it will always have at least one (1) entry.</span></span> <span data-ttu-id="9e8a3-413">Chaque élément du `packageTypes` tableau est un objet JSON avec les propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-413">Each item in the `packageTypes` array is a JSON object with the following properties:</span></span>

<span data-ttu-id="9e8a3-414">Nom</span><span class="sxs-lookup"><span data-stu-id="9e8a3-414">Name</span></span>      | <span data-ttu-id="9e8a3-415">Type</span><span class="sxs-lookup"><span data-stu-id="9e8a3-415">Type</span></span>    | <span data-ttu-id="9e8a3-416">Obligatoire</span><span class="sxs-lookup"><span data-stu-id="9e8a3-416">Required</span></span> | <span data-ttu-id="9e8a3-417">Notes</span><span class="sxs-lookup"><span data-stu-id="9e8a3-417">Notes</span></span>
--------- | ------- | -------- | -----
<span data-ttu-id="9e8a3-418">name</span><span class="sxs-lookup"><span data-stu-id="9e8a3-418">name</span></span>      | <span data-ttu-id="9e8a3-419">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-419">string</span></span>  | <span data-ttu-id="9e8a3-420">Oui</span><span class="sxs-lookup"><span data-stu-id="9e8a3-420">yes</span></span>      | <span data-ttu-id="9e8a3-421">Nom du type de package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-421">The name of the package type.</span></span>
<span data-ttu-id="9e8a3-422">version</span><span class="sxs-lookup"><span data-stu-id="9e8a3-422">version</span></span>    | <span data-ttu-id="9e8a3-423">string</span><span class="sxs-lookup"><span data-stu-id="9e8a3-423">string</span></span>  | <span data-ttu-id="9e8a3-424">non</span><span class="sxs-lookup"><span data-stu-id="9e8a3-424">no</span></span>       | <span data-ttu-id="9e8a3-425">Version du type de package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-425">The version of the package type.</span></span> <span data-ttu-id="9e8a3-426">Présent uniquement si l’auteur a spécifié explicitement une version dans le NuSpec.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-426">Only present if the author explicitly specified a version in the nuspec.</span></span>

<span data-ttu-id="9e8a3-427">L' `published` horodateur est l’heure de la dernière liste du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-427">The `published` timestamp is the time when the package was last listed.</span></span>

> [!Note]
> <span data-ttu-id="9e8a3-428">Sur nuget.org, la `published` valeur est définie sur l’année 1900 lorsque le package est non répertorié.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-428">On nuget.org, the `published` value is set to the year 1900 when the package is unlisted.</span></span>

#### <a name="sample-request"></a><span data-ttu-id="9e8a3-429">Exemple de requête</span><span class="sxs-lookup"><span data-stu-id="9e8a3-429">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/data/2015.02.01.11.18.40/windowsazure.storage.1.0.0.json
```

#### <a name="sample-response"></a><span data-ttu-id="9e8a3-430">Exemple de réponse</span><span class="sxs-lookup"><span data-stu-id="9e8a3-430">Sample response</span></span>

[!code-JSON [catalog-package-details.json](./_data/catalog-package-details.json)]

### <a name="package-delete-catalog-items"></a><span data-ttu-id="9e8a3-431">Supprimer le package des éléments du catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-431">Package delete catalog items</span></span>

<span data-ttu-id="9e8a3-432">Les éléments de catalogue avec le type `PackageDelete` contiennent un ensemble minimal d’informations indiquant aux clients du catalogue qu’un package a été supprimé de la source du package et qu’il n’est plus disponible pour les opérations de package (telles que la restauration).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-432">Catalog items with the type `PackageDelete` contain a minimal set of information indicating to catalog clients that a package has been deleted from the package source and is no longer available for any package operation (such as restore).</span></span>

> [!NOTE]
> <span data-ttu-id="9e8a3-433">Il est possible de supprimer un package et de le republier ultérieurement à l’aide du même ID de package et de la même version.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-433">It is possible for a package to be deleted and later republished using the same package ID and version.</span></span> <span data-ttu-id="9e8a3-434">Sur nuget.org, il s’agit d’un cas très rare, car il arrête l’hypothèse du client officiel qu’un ID de package et une version impliquent un contenu de package spécifique.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-434">On nuget.org, this is a very rare case as it breaks the official client's assumption that a package ID and version imply a specific package content.</span></span> <span data-ttu-id="9e8a3-435">Pour plus d’informations sur la suppression de packages sur nuget.org, consultez [notre stratégie](../nuget-org/policies/deleting-packages.md).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-435">For more information about package deletion on nuget.org, see [our policy](../nuget-org/policies/deleting-packages.md).</span></span>

<span data-ttu-id="9e8a3-436">Les éléments du catalogue de suppression de package n’ont pas de propriétés supplémentaires en plus de celles [incluses dans tous les feuilles de catalogue](#catalog-leaf).</span><span class="sxs-lookup"><span data-stu-id="9e8a3-436">Package delete catalog items have no additional properties in addition to those [included on all catalog leaves](#catalog-leaf).</span></span>

<span data-ttu-id="9e8a3-437">La `version` propriété est la chaîne de version d’origine trouvée dans le package. nuspec.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-437">The `version` property is the original version string found in the package .nuspec.</span></span>

<span data-ttu-id="9e8a3-438">La `published` propriété est l’heure à laquelle le package a été supprimé, ce qui correspond généralement à une heure très brève avant l’horodateur de validation de l’élément de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-438">The `published` property is the time when package was deleted, which is typically as short time before the catalog item's commit timestamp.</span></span>

#### <a name="sample-request"></a><span data-ttu-id="9e8a3-439">Exemple de requête</span><span class="sxs-lookup"><span data-stu-id="9e8a3-439">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/data/2017.11.02.00.40.00/netstandard1.4_lib.1.0.0-test.json
```

#### <a name="sample-response"></a><span data-ttu-id="9e8a3-440">Exemple de réponse</span><span class="sxs-lookup"><span data-stu-id="9e8a3-440">Sample response</span></span>

[!code-JSON [catalog-package-delete.json](./_data/catalog-package-delete.json)]

## <a name="cursor"></a><span data-ttu-id="9e8a3-441">Curseur</span><span class="sxs-lookup"><span data-stu-id="9e8a3-441">Cursor</span></span>

### <a name="overview"></a><span data-ttu-id="9e8a3-442">Vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="9e8a3-442">Overview</span></span>

<span data-ttu-id="9e8a3-443">Cette section décrit un concept client qui, bien qu’il ne soit pas obligatoirement obligatoire par le protocole, doit faire partie de toute implémentation de client de catalogue pratique.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-443">This section describes a client concept that, although is not necessarily mandated by the protocol, should be part of any practical catalog client implementation.</span></span>

<span data-ttu-id="9e8a3-444">Étant donné que le catalogue est une structure de données d’ajout uniquement indexée par heure, le client doit stocker un **curseur** localement, ce qui indique jusqu’à quel point dans le temps le client a traité les éléments du catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-444">Because the catalog is an append-only data structure indexed by time, the client should store a **cursor** locally, representing up to what point in time the client has processed catalog items.</span></span> <span data-ttu-id="9e8a3-445">Notez que cette valeur de curseur ne doit jamais être générée à l’aide de l’horloge de l’ordinateur du client.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-445">Note that this cursor value should never be generated using the client's machine clock.</span></span> <span data-ttu-id="9e8a3-446">Au lieu de cela, la valeur doit provenir de la valeur d’un objet catalogue `commitTimestamp` .</span><span class="sxs-lookup"><span data-stu-id="9e8a3-446">Instead, the value should come from a catalog object's `commitTimestamp` value.</span></span>

<span data-ttu-id="9e8a3-447">Chaque fois que le client souhaite traiter de nouveaux événements sur la source du package, il doit uniquement interroger le catalogue pour tous les éléments du catalogue dont l’horodateur de validation est supérieur à celui de son curseur stocké.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-447">Every time the client wants to process new events on the package source, it need only query the catalog for all catalog items with a commit timestamp greater than its stored cursor.</span></span> <span data-ttu-id="9e8a3-448">Une fois que le client a traité tous les nouveaux éléments de catalogue, il enregistre le dernier horodatage de validation des éléments de catalogue qui vient d’être traité comme sa nouvelle valeur de curseur.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-448">After the client successfully processes all new catalog items, it records the latest commit timestamp of catalog items just processed as its new cursor value.</span></span>

<span data-ttu-id="9e8a3-449">À l’aide de cette approche, le client peut s’assurer de ne jamais manquer les événements de package qui se sont produits sur la source du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-449">Using this approach, the client can be sure to never miss any package events that occurred on the package source.</span></span>
<span data-ttu-id="9e8a3-450">En outre, le client n’a jamais à retraiter les anciens événements avant l’horodateur de validation enregistré du curseur.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-450">Additionally, the client never has to reprocess old events prior to the cursor's recorded commit timestamp.</span></span>

<span data-ttu-id="9e8a3-451">Ce concept puissant de curseurs est utilisé pour de nombreuses tâches en arrière-plan nuget.org et est utilisé pour maintenir à jour l’API V3.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-451">This powerful concept of cursors is used for many of nuget.org background jobs and is used to keep the V3 API itself up-to-date.</span></span> 

### <a name="initial-value"></a><span data-ttu-id="9e8a3-452">Valeur initiale</span><span class="sxs-lookup"><span data-stu-id="9e8a3-452">Initial value</span></span>

<span data-ttu-id="9e8a3-453">Quand le client de catalogue démarre pour la première fois (et qu’il n’a donc pas de valeur de curseur), il doit utiliser une valeur de curseur par défaut de. Le réseau `System.DateTimeOffset.MinValue` ou une certaine notion analogue de l’horodateur minimal représentable.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-453">When the catalog client is starting for the very first time (and therefore has no cursor value), it should use a default cursor value of .NET's `System.DateTimeOffset.MinValue` or some such analogous notion of minimum representable timestamp.</span></span>

### <a name="iterating-over-catalog-items"></a><span data-ttu-id="9e8a3-454">Itération sur les éléments du catalogue</span><span class="sxs-lookup"><span data-stu-id="9e8a3-454">Iterating over catalog items</span></span>

<span data-ttu-id="9e8a3-455">Pour interroger l’ensemble suivant d’éléments de catalogue à traiter, le client doit :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-455">To query for the next set of catalog items to process, the client should:</span></span>

1. <span data-ttu-id="9e8a3-456">Extrait la valeur de curseur enregistrée à partir d’un magasin local.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-456">Fetch the recorded cursor value from a local store.</span></span>
1. <span data-ttu-id="9e8a3-457">Téléchargez et désérialisez l’index du catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-457">Download and deserialize the catalog index.</span></span>
1. <span data-ttu-id="9e8a3-458">Recherche toutes les pages du catalogue dont l’horodateur de validation est *supérieur* au curseur.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-458">Find all catalog pages with a commit timestamp *greater than* the cursor.</span></span>
1. <span data-ttu-id="9e8a3-459">Déclarez une liste vide d’éléments de catalogue à traiter.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-459">Declare an empty list of catalog items to process.</span></span>
1. <span data-ttu-id="9e8a3-460">Pour chaque page de catalogue correspondante à l’étape 3 :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-460">For each catalog page matched in step 3:</span></span>
   1. <span data-ttu-id="9e8a3-461">Téléchargez et désérialisez la page catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-461">Download and deserialized the catalog page.</span></span>
   1. <span data-ttu-id="9e8a3-462">Recherche tous les éléments du catalogue dont l’horodateur de validation est *supérieur* au curseur.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-462">Find all catalog items with a commit timestamp *greater than* the cursor.</span></span>
   1. <span data-ttu-id="9e8a3-463">Ajoutez tous les éléments de catalogue correspondants à la liste déclarée à l’étape 4.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-463">Add all matching catalog items to the list declared in step 4.</span></span>
1. <span data-ttu-id="9e8a3-464">Trie la liste d’éléments de catalogue par horodatage de validation.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-464">Sort the catalog item list by commit timestamp.</span></span>
1. <span data-ttu-id="9e8a3-465">Traiter chaque élément de catalogue dans l’ordre :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-465">Process each catalog item in sequence:</span></span>
   1. <span data-ttu-id="9e8a3-466">Télécharger et désérialiser l’élément de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-466">Download and deserialize the catalog item.</span></span>
   1. <span data-ttu-id="9e8a3-467">Réagissez en fonction du type de l’élément de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-467">React appropriately to the catalog item's type.</span></span>
   1. <span data-ttu-id="9e8a3-468">Traitez le document d’élément de catalogue de manière spécifique au client.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-468">Process the catalog item document in a client-specific fashion.</span></span>
1. <span data-ttu-id="9e8a3-469">Enregistrez le dernier horodatage de validation de l’élément de catalogue en tant que nouvelle valeur de curseur.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-469">Record the last catalog item's commit timestamp as the new cursor value.</span></span>

<span data-ttu-id="9e8a3-470">Avec cet algorithme de base, l’implémentation cliente peut générer une vue complète de tous les packages disponibles sur la source du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-470">With this basic algorithm, the client implementation can build up a complete view of all packages available on the package source.</span></span> <span data-ttu-id="9e8a3-471">Le client doit uniquement exécuter régulièrement cet algorithme pour connaître toujours les dernières modifications apportées à la source du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-471">The client need only execute this algorithm periodically to always be aware of the latest changes to the package source.</span></span>

> [!Note]
> <span data-ttu-id="9e8a3-472">Il s’agit de l’algorithme utilisé par nuget.org pour conserver les [métadonnées du package](registration-base-url-resource.md), le [contenu du package](package-base-address-resource.md), la [recherche](search-query-service-resource.md) et la [saisie semi-automatique](search-autocomplete-service-resource.md) des ressources à jour.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-472">This is the algorithm that nuget.org uses to keep the [Package Metadata](registration-base-url-resource.md), [Package Content](package-base-address-resource.md), [Search](search-query-service-resource.md) and [Autocomplete](search-autocomplete-service-resource.md) resources up to date.</span></span>

### <a name="dependent-cursors"></a><span data-ttu-id="9e8a3-473">Curseurs dépendants</span><span class="sxs-lookup"><span data-stu-id="9e8a3-473">Dependent cursors</span></span>

<span data-ttu-id="9e8a3-474">Supposons que deux clients de catalogue possèdent une dépendance inhérente où la sortie d’un client dépend de la sortie d’un autre client.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-474">Suppose there are two catalog clients that have an inherent dependency where one client's output depends on another client's output.</span></span> 

#### <a name="example"></a><span data-ttu-id="9e8a3-475">Exemples</span><span class="sxs-lookup"><span data-stu-id="9e8a3-475">Example</span></span>

<span data-ttu-id="9e8a3-476">Par exemple, sur nuget.org, un package qui vient d’être publié ne doit pas apparaître dans la ressource de recherche avant d’apparaître dans la ressource de métadonnées du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-476">For example, on nuget.org a newly published package should not appear in the search resource before it appears in the package metadata resource.</span></span> <span data-ttu-id="9e8a3-477">Cela est dû au fait que l’opération de « restauration » effectuée par le client NuGet officiel utilise la ressource de métadonnées du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-477">This is because the "restore" operation performed by the official NuGet client uses the package metadata resource.</span></span> <span data-ttu-id="9e8a3-478">Si un client Découvre un package à l’aide du service de recherche, il doit être en mesure de restaurer ce package à l’aide de la ressource de métadonnées du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-478">If a customer discovers a package using the search service, they should be able to successfully restore that package using the package metadata resource.</span></span> <span data-ttu-id="9e8a3-479">En d’autres termes, la ressource de recherche dépend de la ressource de métadonnées du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-479">In other words, the search resource depends on the package metadata resource.</span></span> <span data-ttu-id="9e8a3-480">Chaque ressource a une tâche en arrière-plan du client du catalogue qui met à jour cette ressource.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-480">Each resource has a catalog client background job updating that resource.</span></span> <span data-ttu-id="9e8a3-481">Chaque client possède son propre curseur.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-481">Each client has its own cursor.</span></span>

<span data-ttu-id="9e8a3-482">Étant donné que les deux ressources sont créées à partir du catalogue, le curseur du client de catalogue qui met à jour la ressource de recherche *ne doit pas dépasser* le curseur du client du catalogue de métadonnées du package.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-482">Since both resources are built off of the catalog, the cursor of the catalog client that updates the search resource *must not go beyond* the cursor of the package metadata catalog client.</span></span>

#### <a name="algorithm"></a><span data-ttu-id="9e8a3-483">Algorithm</span><span class="sxs-lookup"><span data-stu-id="9e8a3-483">Algorithm</span></span>

<span data-ttu-id="9e8a3-484">Pour implémenter cette restriction, il vous suffit de modifier l’algorithme ci-dessus pour qu’il soit :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-484">To implement this restriction, simply modify the algorithm above to be:</span></span>

1. <span data-ttu-id="9e8a3-485">Extrait la valeur de curseur enregistrée à partir d’un magasin local.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-485">Fetch the recorded cursor value from a local store.</span></span>
1. <span data-ttu-id="9e8a3-486">Téléchargez et désérialisez l’index du catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-486">Download and deserialize the catalog index.</span></span>
1. <span data-ttu-id="9e8a3-487">Recherche toutes les pages du catalogue dont l’horodateur de validation est *supérieur* au curseur **inférieur ou égal au curseur de la dépendance.**</span><span class="sxs-lookup"><span data-stu-id="9e8a3-487">Find all catalog pages with a commit timestamp *greater than* the cursor **less than or equal to the dependency's cursor.**</span></span>
1. <span data-ttu-id="9e8a3-488">Déclarez une liste vide d’éléments de catalogue à traiter.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-488">Declare an empty list of catalog items to process.</span></span>
1. <span data-ttu-id="9e8a3-489">Pour chaque page de catalogue correspondante à l’étape 3 :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-489">For each catalog page matched in step 3:</span></span>
   1. <span data-ttu-id="9e8a3-490">Téléchargez et désérialisez la page catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-490">Download and deserialized the catalog page.</span></span>
   1. <span data-ttu-id="9e8a3-491">Recherche tous les éléments du catalogue dont l’horodateur de validation est *supérieur* **ou égal au curseur de la dépendance.**</span><span class="sxs-lookup"><span data-stu-id="9e8a3-491">Find all catalog items with a commit timestamp *greater than* the cursor **less than or equal to the dependency's cursor.**</span></span>
   1. <span data-ttu-id="9e8a3-492">Ajoutez tous les éléments de catalogue correspondants à la liste déclarée à l’étape 4.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-492">Add all matching catalog items to the list declared in step 4.</span></span>
1. <span data-ttu-id="9e8a3-493">Trie la liste d’éléments de catalogue par horodatage de validation.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-493">Sort the catalog item list by commit timestamp.</span></span>
1. <span data-ttu-id="9e8a3-494">Traiter chaque élément de catalogue dans l’ordre :</span><span class="sxs-lookup"><span data-stu-id="9e8a3-494">Process each catalog item in sequence:</span></span>
   1. <span data-ttu-id="9e8a3-495">Télécharger et désérialiser l’élément de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-495">Download and deserialize the catalog item.</span></span>
   1. <span data-ttu-id="9e8a3-496">Réagissez en fonction du type de l’élément de catalogue.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-496">React appropriately to the catalog item's type.</span></span>
   1. <span data-ttu-id="9e8a3-497">Traitez le document d’élément de catalogue de manière spécifique au client.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-497">Process the catalog item document in a client-specific fashion.</span></span>
1. <span data-ttu-id="9e8a3-498">Enregistrez le dernier horodatage de validation de l’élément de catalogue en tant que nouvelle valeur de curseur.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-498">Record the last catalog item's commit timestamp as the new cursor value.</span></span>

<span data-ttu-id="9e8a3-499">À l’aide de cet algorithme modifié, vous pouvez créer un système de clients de catalogue dépendants qui produisent tous leurs propres index, artefacts, etc.</span><span class="sxs-lookup"><span data-stu-id="9e8a3-499">Using this modified algorithm, you can build a system of dependent catalog clients all producing their own specific indexes, artifacts, etc.</span></span>
