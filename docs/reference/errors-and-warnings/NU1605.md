---
title: Avertissement NuGet NU1605
description: Code d’avertissement NU1605
author: zhili1208
ms.author: lzhi
ms.date: 06/25/2018
ms.topic: reference
ms.reviewer: anangaur
f1_keywords:
- NU1605
ms.openlocfilehash: 8d62f8bc9b3b683be2a07c87da4cb87716abf914
ms.sourcegitcommit: b138bc1d49fbf13b63d975c581a53be4283b7ebf
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/03/2020
ms.locfileid: "93238125"
---
# <a name="nuget-warning-nu1605"></a><span data-ttu-id="856b4-103">Avertissement NuGet NU1605</span><span class="sxs-lookup"><span data-stu-id="856b4-103">NuGet Warning NU1605</span></span>

## <a name="example-1"></a><span data-ttu-id="856b4-104">Exemple 1</span><span class="sxs-lookup"><span data-stu-id="856b4-104">Example 1</span></span>

<pre>Detected package downgrade: 'PackageB' from 4.0.0 to 3.5.0. Reference the package directly from the project to select a different version.<br/>  'PackageA' 3.5.0 -> 'PackageB' 3.5.0<br/>  'PackageC' 4.0.0 -> 'PackageD' 4.0.0 -> 'PackageB' 4.0.0</pre>

### <a name="issue"></a><span data-ttu-id="856b4-105">Problème</span><span class="sxs-lookup"><span data-stu-id="856b4-105">Issue</span></span>
<span data-ttu-id="856b4-106">Un package de dépendances a spécifié une contrainte de version sur une version plus récente d’un package que la restauration finalement résolue.</span><span class="sxs-lookup"><span data-stu-id="856b4-106">A dependency package specified a version constraint on a higher version of a package than restore ultimately resolved.</span></span> <span data-ttu-id="856b4-107">En effet, en raison de la règle [WINS la plus proche](../../concepts/dependency-resolution.md#nearest-wins) -lors de la résolution des packages, la version du package le plus proche dans le graphique remplacera celle du package distant avec le même ID.</span><span class="sxs-lookup"><span data-stu-id="856b4-107">That is because of the [nearest-wins](../../concepts/dependency-resolution.md#nearest-wins) rule - when resolving packages, the version of the nearer package in the graph will override that of the distant package with the same ID.</span></span>

### <a name="solution"></a><span data-ttu-id="856b4-108">Solution</span><span class="sxs-lookup"><span data-stu-id="856b4-108">Solution</span></span>
<span data-ttu-id="856b4-109">Pour le projet présentant l’erreur de restauration, ajoutez une référence de package à la version plus récente du package.</span><span class="sxs-lookup"><span data-stu-id="856b4-109">To the project exhibiting the restore error, add a package reference to the higher version of the package.</span></span>

<span data-ttu-id="856b4-110">Dans l’exemple ci-dessus, vous ajoutez une référence de package à package B version 4.0.0 :</span><span class="sxs-lookup"><span data-stu-id="856b4-110">In the example above, you would add a package reference to Package B version 4.0.0:</span></span>

<pre>
  'PackageA' 3.5.0 -> 'PackageB' 3.5.0<br/>
  'PackageC' 4.0.0 -> 'PackageD' 4.0.0 -> 'PackageB' 4.0.0<br/>
  'PackageB' 4.0.0
</pre>

<span data-ttu-id="856b4-111">Dans la mesure où, le [plus proche de WINS](../../concepts/dependency-resolution.md#nearest-wins), la référence de package directe à PackageB v 4.0.0 est prioritaire sur la référence transitive à PackageB v 3.5.0.</span><span class="sxs-lookup"><span data-stu-id="856b4-111">Since, [nearest-wins](../../concepts/dependency-resolution.md#nearest-wins), the direct package reference to PackageB v4.0.0, will take precedence over the transitive reference to PackageB v3.5.0.</span></span>

## <a name="example-2"></a><span data-ttu-id="856b4-112">Exemple 2</span><span class="sxs-lookup"><span data-stu-id="856b4-112">Example 2</span></span>
<pre>
Detected package downgrade: System.IO.FileSystem.Primitives from 4.3.0 to 4.0.1. Reference the package directly from the project to select a different version.</br>
 Project -> System.IO.FileSystem 4.0.1 -> runtime.win.System.IO.FileSystem 4.3.0 -> System.IO.FileSystem.Primitives (>= 4.3.0)</br>
 Project -> System.IO.FileSystem 4.0.1 -> System.IO.FileSystem.Primitives (>= 4.0.1)</br>
</pre>

### <a name="issue"></a><span data-ttu-id="856b4-113">Problème</span><span class="sxs-lookup"><span data-stu-id="856b4-113">Issue</span></span> 

<span data-ttu-id="856b4-114">Certaines combinaisons de packages livrés avec .NET Core 1,0 et 1,1 ne sont pas compatibles les unes avec les autres lorsqu’ils sont référencés dans un projet .NET Core 3,0 ou version ultérieure, et qu’un RuntimeIdentifier est spécifié.</span><span class="sxs-lookup"><span data-stu-id="856b4-114">Certain combinations of packages which shipped with .NET Core 1.0 and 1.1 are not compatible with each other when they are referenced together in a .NET Core 3.0 or higher project, and a RuntimeIdentifier is specified.</span></span>  <span data-ttu-id="856b4-115">Les packages problématiques commencent généralement par `System.` ou `Microsoft.` , et ont des numéros de version compris entre 4.0.0 et 4.3.1.</span><span class="sxs-lookup"><span data-stu-id="856b4-115">The problematic packages generally start with `System.` or `Microsoft.`, and have version numbers between 4.0.0 and 4.3.1.</span></span>  <span data-ttu-id="856b4-116">Dans ce cas, le message de rétrogradation aura un package commençant par le Runtime.<RID></span><span class="sxs-lookup"><span data-stu-id="856b4-116">In this case, the downgrade message will have a package starting with runtime.<RID></span></span> <span data-ttu-id="856b4-117">dans la chaîne de dépendance.</span><span class="sxs-lookup"><span data-stu-id="856b4-117">in the dependency chain.</span></span>

### <a name="solution"></a><span data-ttu-id="856b4-118">Solution</span><span class="sxs-lookup"><span data-stu-id="856b4-118">Solution</span></span>

<span data-ttu-id="856b4-119">Pour contourner ce problème, ajoutez le PackageReference suivant :</span><span class="sxs-lookup"><span data-stu-id="856b4-119">To work around this issue, add the following PackageReference:</span></span>

```xml
<PackageReference Include="Microsoft.NETCore.Targets" Version="3.0.0" PrivateAssets="all" />
```

## <a name="example-3"></a><span data-ttu-id="856b4-120">Exemple 3</span><span class="sxs-lookup"><span data-stu-id="856b4-120">Example 3</span></span>

<pre>Detected package downgrade: Microsoft.NETCore.App from 2.1.8 to 2.1.0. Reference the package directly from the project to select a different version.<br/>
  test -> mvc -> Microsoft.NETCore.App (>= 2.1.8)<br/>
  test -> Microsoft.NETCore.App (>= 2.1.0)<br/>
</pre>

### <a name="issue"></a><span data-ttu-id="856b4-121">Problème</span><span class="sxs-lookup"><span data-stu-id="856b4-121">Issue</span></span>

<span data-ttu-id="856b4-122">Le projet MVC a spécifié une contrainte de version sur une version plus récente d’un package que la restauration finalement résolue.</span><span class="sxs-lookup"><span data-stu-id="856b4-122">The mvc project specified a version constraint on a higher version of a package than restore ultimately resolved.</span></span> <span data-ttu-id="856b4-123">En effet, en raison de la règle [WINS la plus proche](../../concepts/dependency-resolution.md#nearest-wins) -lors de la résolution des packages, la version du package le plus proche dans le graphique remplacera celle du package distant avec le même ID.</span><span class="sxs-lookup"><span data-stu-id="856b4-123">That is because of the [nearest-wins](../../concepts/dependency-resolution.md#nearest-wins) rule - when resolving packages, the version of the nearer package in the graph will override that of the distant package with the same ID.</span></span>

### <a name="solution"></a><span data-ttu-id="856b4-124">Solution</span><span class="sxs-lookup"><span data-stu-id="856b4-124">Solution</span></span>

<span data-ttu-id="856b4-125">Cette erreur spécifique (avec le package Microsoft. Netcore. app) est améliorée en déplaçant votre kit SDK .NET Core vers 2.2.100 ou une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="856b4-125">This specific error (with Microsoft.NETCore.App package) is improved by moving your .NET Core SDK to 2.2.100 or later.</span></span> <span data-ttu-id="856b4-126">Microsoft. Netcore. app est un package de référence automatique que le kit SDK .NET Core avant la version 3.0.100 choisit de s’intégrer automatiquement.</span><span class="sxs-lookup"><span data-stu-id="856b4-126">Microsoft.NETCore.App is an auto-referenced package that the .NET Core SDK before version 3.0.100 chooses to bring in automatically.</span></span> <span data-ttu-id="856b4-127">Consultez également la [restauration par progression du runtime de déploiement autonome](/dotnet/core/deploying/runtime-patch-selection).</span><span class="sxs-lookup"><span data-stu-id="856b4-127">Also see [Self-contained deployment runtime roll forward](/dotnet/core/deploying/runtime-patch-selection).</span></span>
