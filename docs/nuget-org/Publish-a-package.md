---
title: Guide pratique pour publier un package NuGet
description: Instructions détaillées sur la manière de publier un package NuGet sur nuget.org ou des flux privés et de gérer la propriété du package sur nuget.org.
author: karann-msft
ms.author: karann
ms.date: 05/18/2018
ms.topic: conceptual
ms.reviewer: anangaur
ms.openlocfilehash: 937d051ff6dc49e3204f7d0cb22c4f29b99a2a7d
ms.sourcegitcommit: 39f2ae79fbbc308e06acf67ee8e24cfcdb2c831b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/05/2019
ms.locfileid: "73610614"
---
# <a name="publishing-packages"></a><span data-ttu-id="76fe8-103">Publication de packages</span><span class="sxs-lookup"><span data-stu-id="76fe8-103">Publishing packages</span></span>

<span data-ttu-id="76fe8-104">Une fois que vous avez créé un package et obtenu votre fichier `.nupkg`, un processus simple permet de le mettre à la disposition d’autres développeurs, de façon publique ou privée :</span><span class="sxs-lookup"><span data-stu-id="76fe8-104">Once you have created a package and have your `.nupkg` file in hand, it's a simple process to make it available to other developers, either publicly or privately:</span></span>

- <span data-ttu-id="76fe8-105">Les packages publics sont à la disposition des développeurs du monde entier par le biais de [nuget.org](https://www.nuget.org/packages/manage/upload), comme l’explique cet article (NuGet 4.1.0+ requis).</span><span class="sxs-lookup"><span data-stu-id="76fe8-105">Public packages are made available to all developers globally through [nuget.org](https://www.nuget.org/packages/manage/upload) as described in this article (requires NuGet 4.1.0+).</span></span>
- <span data-ttu-id="76fe8-106">Les packages privés sont disponibles uniquement pour une équipe ou une organisation, via leur hébergement sur un partage de fichiers, un serveur NuGet privé, [Azure Artifacts](https://www.visualstudio.com/docs/package/nuget/publish) ou un dépôt tiers comme myget, ProGet, Nexus Repository ou Artifactory.</span><span class="sxs-lookup"><span data-stu-id="76fe8-106">Private packages are available to only a team or organization, by hosting them either a file share, a private NuGet server, [Azure Artifacts](https://www.visualstudio.com/docs/package/nuget/publish), or a third-party repository such as myget, ProGet, Nexus Repository, and Artifactory.</span></span> <span data-ttu-id="76fe8-107">Pour plus d’informations, consultez [Vue d’ensemble de l’hébergement des packages](../hosting-packages/overview.md).</span><span class="sxs-lookup"><span data-stu-id="76fe8-107">For additional details, see [Hosting Packages Overview](../hosting-packages/overview.md).</span></span>

<span data-ttu-id="76fe8-108">Cet article traite de la publication sur nuget.org. Pour la publication sur Azure Artifacts, consultez [Gestion des packages](https://www.visualstudio.com/docs/package/nuget/publish).</span><span class="sxs-lookup"><span data-stu-id="76fe8-108">This article covers publishing to nuget.org; for publishing to Azure Artifacts, see [Package Management](https://www.visualstudio.com/docs/package/nuget/publish).</span></span>

## <a name="publish-to-nugetorg"></a><span data-ttu-id="76fe8-109">Publier dans nuget.org</span><span class="sxs-lookup"><span data-stu-id="76fe8-109">Publish to nuget.org</span></span>

<span data-ttu-id="76fe8-110">Pour nuget.org, vous devez vous connecter avec un compte Microsoft, avec lequel vous serez invité à inscrire le compte auprès de nuget.org. Vous pouvez également vous connecter avec un compte nuget.org créé à l’aide de versions antérieures du portail.</span><span class="sxs-lookup"><span data-stu-id="76fe8-110">For nuget.org, you must sign in with a Microsoft account, with which you'll be asked to register the account with nuget.org. You can also sign in with a nuget.org account created using older versions of the portal.</span></span>

![Emplacement de la connexion NuGet](media/publish_NuGetSignIn.png)

<span data-ttu-id="76fe8-112">Ensuite, vous pouvez charger le package via le portail web nuget.org, l’envoyer (push) à nuget.org à partir de la ligne de commande (nécessite `nuget.exe` 4.1.0+), ou le publier dans le cadre d’un processus CI/CD via Azure DevOps Services, comme décrit dans les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="76fe8-112">Next, you can either upload the package through the nuget.org web portal, push to nuget.org from the command line (requires `nuget.exe` 4.1.0+) , or publish as part of a CI/CD process through Azure DevOps Services, as described in the following sections.</span></span>

### <a name="web-portal-use-the-upload-package-tab-on-nugetorg"></a><span data-ttu-id="76fe8-113">Portail web : utilisez l’onglet de chargement de package sur nuget.org</span><span class="sxs-lookup"><span data-stu-id="76fe8-113">Web portal: use the Upload Package tab on nuget.org</span></span>

1. <span data-ttu-id="76fe8-114">Sélectionnez **Charger** dans le menu supérieur de nuget.org et accédez à l’emplacement du package.</span><span class="sxs-lookup"><span data-stu-id="76fe8-114">Select **Upload** on the top menu of nuget.org and browse to the package location.</span></span>

    ![Charger un package sur nuget.org](media/publish_UploadYourPackage.PNG)

1. <span data-ttu-id="76fe8-116">nuget.org indique si le nom du package est disponible.</span><span class="sxs-lookup"><span data-stu-id="76fe8-116">nuget.org tells you if the package name is available.</span></span> <span data-ttu-id="76fe8-117">Si ce n’est pas le cas, modifiez l’identificateur du package dans votre projet, relancez la génération et retentez le chargement.</span><span class="sxs-lookup"><span data-stu-id="76fe8-117">If it isn't, change the package identifier in your project, rebuild, and try the upload again.</span></span>

1. <span data-ttu-id="76fe8-118">Si le nom du package est disponible, nuget.org ouvre une section **Vérifier**, qui permet de consulter les métadonnées du manifeste de package.</span><span class="sxs-lookup"><span data-stu-id="76fe8-118">If the package name is available, nuget.org opens a **Verify** section in which you can review the metadata from the package manifest.</span></span> <span data-ttu-id="76fe8-119">Pour modifier les métadonnées, modifiez votre projet (fichier projet ou fichier `.nuspec`), relancez la génération, recréez le package et relancez le chargement.</span><span class="sxs-lookup"><span data-stu-id="76fe8-119">To change any of the metadata, edit your project (project file or `.nuspec` file), rebuild, recreate the package, and upload again.</span></span>

1. <span data-ttu-id="76fe8-120">Sous **Documentation de l’importation** vous pouvez coller Markdown, pointer sur vos documents avec une URL ou charger un fichier de documentation.</span><span class="sxs-lookup"><span data-stu-id="76fe8-120">Under **Import Documentation** you can paste Markdown, point to your docs with a URL, or upload a documentation file.</span></span>

1. <span data-ttu-id="76fe8-121">Lorsque toutes les informations sont prêtes, sélectionnez le bouton **Envoyer**.</span><span class="sxs-lookup"><span data-stu-id="76fe8-121">When all the information is ready, select the **Submit** button</span></span>

### <a name="command-line"></a><span data-ttu-id="76fe8-122">Ligne de commande</span><span class="sxs-lookup"><span data-stu-id="76fe8-122">Command line</span></span>

<span data-ttu-id="76fe8-123">Pour envoyer (push) des packages à nuget.org, vous devez utiliser [nuget.exe v4.1.0 ou plus](https://www.nuget.org/downloads), qui implémente les [protocoles NuGet](../api/nuget-protocols.md) requis.</span><span class="sxs-lookup"><span data-stu-id="76fe8-123">To push packages to nuget.org you must use [nuget.exe v4.1.0 or above](https://www.nuget.org/downloads), which implements the required [NuGet protocols](../api/nuget-protocols.md).</span></span> <span data-ttu-id="76fe8-124">Vous aurez également besoin d’une clé API, créée sur nuget.org.</span><span class="sxs-lookup"><span data-stu-id="76fe8-124">You also need an API key, which is created on nuget.org.</span></span>

#### <a name="create-api-keys"></a><span data-ttu-id="76fe8-125">Créer des clés API</span><span class="sxs-lookup"><span data-stu-id="76fe8-125">Create API keys</span></span>

[!INCLUDE [publish-api-key](../quickstart/includes/publish-api-key.md)]

#### <a name="publish-with-dotnet-nuget-push"></a><span data-ttu-id="76fe8-126">Publier avec dotnet nuget push</span><span class="sxs-lookup"><span data-stu-id="76fe8-126">Publish with dotnet nuget push</span></span>

[!INCLUDE [publish-dotnet](../quickstart/includes/publish-dotnet.md)]

#### <a name="publish-with-nuget-push"></a><span data-ttu-id="76fe8-127">Publier avec nuget push</span><span class="sxs-lookup"><span data-stu-id="76fe8-127">Publish with nuget push</span></span>

1. <span data-ttu-id="76fe8-128">Dans une invite de commandes, exécutez la commande suivante en remplaçant `<your_API_key>` par la clé obtenue sur nuget.org :</span><span class="sxs-lookup"><span data-stu-id="76fe8-128">At a command prompt, run the following command, replacing `<your_API_key>` with the key obtained from nuget.org:</span></span>

    ```cli
    nuget setApiKey <your_API_key>
    ```

    <span data-ttu-id="76fe8-129">Cette commande stocke votre clé API dans votre configuration NuGet, de sorte que vous n’avez pas besoin de répéter cette étape sur le même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="76fe8-129">This command stores your API key in your NuGet configuration so that you don't need to repeat this step again on the same computer.</span></span>

1. <span data-ttu-id="76fe8-130">Envoyez (push) votre package dans la galerie NuGet à l’aide de la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="76fe8-130">Push your package to NuGet Gallery using the following command:</span></span>

    ```cli
    nuget push YourPackage.nupkg -Source https://api.nuget.org/v3/index.json
    ```

#### <a name="publish-signed-packages"></a><span data-ttu-id="76fe8-131">Publier les paquets signés</span><span class="sxs-lookup"><span data-stu-id="76fe8-131">Publish signed packages</span></span>

<span data-ttu-id="76fe8-132">Pour pouvoir envoyer les packages signés, vous devez tout d’abord [inscrire le certificat](../create-packages/Sign-a-Package.md#register-the-certificate-on-nugetorg) utilisé pour signer les packages.</span><span class="sxs-lookup"><span data-stu-id="76fe8-132">To submit signed packages, you must first [register the certificate](../create-packages/Sign-a-Package.md#register-the-certificate-on-nugetorg) used for signing the packages.</span></span> 

> [!Warning]
> <span data-ttu-id="76fe8-133">nuget.org rejette les packages qui ne répondent pas aux [exigences des packages signés](../reference/Signed-Packages-Reference.md#signature-requirements-on-nugetorg).</span><span class="sxs-lookup"><span data-stu-id="76fe8-133">nuget.org rejects packages that don't satisfy the [signed package requirements](../reference/Signed-Packages-Reference.md#signature-requirements-on-nugetorg).</span></span>

### <a name="package-validation-and-indexing"></a><span data-ttu-id="76fe8-134">Validation du package et indexation</span><span class="sxs-lookup"><span data-stu-id="76fe8-134">Package validation and indexing</span></span>

<span data-ttu-id="76fe8-135">Les packages envoyés sur nuget.org passent par plusieurs validations, notamment des contrôles antivirus.</span><span class="sxs-lookup"><span data-stu-id="76fe8-135">Packages pushed to nuget.org undergo several validations, such as virus checks.</span></span> <span data-ttu-id="76fe8-136">(Tous les packages présents sur nuget.org sont analysés régulièrement.)</span><span class="sxs-lookup"><span data-stu-id="76fe8-136">(All packages on nuget.org are periodically scanned.)</span></span>

<span data-ttu-id="76fe8-137">Lorsque le package a satisfait à tous les contrôles de validation, son indexation peut prendre un certain temps ainsi que son apparition dans les résultats de recherche.</span><span class="sxs-lookup"><span data-stu-id="76fe8-137">When the package has passed all validation checks, it might take a while for it to be indexed and appear in search results.</span></span> <span data-ttu-id="76fe8-138">Une fois que l’indexation est terminée, vous recevez un e-mail de confirmation que le package a été correctement publié.</span><span class="sxs-lookup"><span data-stu-id="76fe8-138">Once indexing is complete, you receive an email confirming that the package was successfully published.</span></span> <span data-ttu-id="76fe8-139">Si le package ne satisfait pas à un contrôle de validation, la page des détails du package se met à jour pour afficher l’erreur associée et vous recevez aussi un e-mail vous en informant.</span><span class="sxs-lookup"><span data-stu-id="76fe8-139">If the package fails a validation check, the package details page will update to display the associated error and you also receive an email notifying you about it.</span></span>

<span data-ttu-id="76fe8-140">La validation et l’indexation du package prend généralement moins de 15 minutes.</span><span class="sxs-lookup"><span data-stu-id="76fe8-140">Package validation and indexing usually takes under 15 minutes.</span></span> <span data-ttu-id="76fe8-141">Si la publication du package prend plus de temps que prévu, visitez [status.nuget.org](https://status.nuget.org/) pour vérifier si nuget.org rencontre des interruptions.</span><span class="sxs-lookup"><span data-stu-id="76fe8-141">If the package publishing is taking longer than expected, visit [status.nuget.org](https://status.nuget.org/) to check if nuget.org is experiencing any interruptions.</span></span> <span data-ttu-id="76fe8-142">Si tous les systèmes sont opérationnels et que le package n’a pas été correctement publié dans l’heure, connectez-vous à nuget.org et contactez-nous à l’aide du lien permettant de contacter le support disponible dans la page du package.</span><span class="sxs-lookup"><span data-stu-id="76fe8-142">If all systems are operational and the package hasn't been successfully published within an hour, please login to nuget.org and contact us using the Contact Support link on the package page.</span></span>

<span data-ttu-id="76fe8-143">Pour afficher l’état d’un package, sélectionnez **gérer les packages** sous le nom de votre compte sur NuGet.org. Une fois la validation terminée, vous recevez un e-mail de confirmation.</span><span class="sxs-lookup"><span data-stu-id="76fe8-143">To see the status of a package, select **Manage packages** under your account name on nuget.org. You receive a confirmation email when validation is complete.</span></span>

<span data-ttu-id="76fe8-144">Notez que l’indexation de votre package peut prendre un certain temps ainsi que son apparition dans les résultats de recherche. Pendant ce délai, le message suivant s’affiche dans la page de votre package :</span><span class="sxs-lookup"><span data-stu-id="76fe8-144">Note that it might take a while for your package to be indexed and appear in search results where others can find it, during which time you see the following message on your package page:</span></span>

![Message indiquant qu’un package n’est pas encore publié](media/publish_NotYetIndexed.png)

### <a name="azure-devops-services-cicd"></a><span data-ttu-id="76fe8-146">Azure DevOps Services (CI/CD)</span><span class="sxs-lookup"><span data-stu-id="76fe8-146">Azure DevOps Services (CI/CD)</span></span>

<span data-ttu-id="76fe8-147">Si vous envoyez (push) des packages à nuget.org à l’aide d’Azure DevOps Services dans le cadre du processus d’intégration et de déploiement continus (CI/CD), vous devez utiliser `nuget.exe` 4.1 ou une version ultérieure dans les tâches NuGet.</span><span class="sxs-lookup"><span data-stu-id="76fe8-147">If you push packages to nuget.org using Azure DevOps Services as part of your Continuous Integration/Deployment process, you must use `nuget.exe` 4.1 or above in the NuGet tasks.</span></span> <span data-ttu-id="76fe8-148">D’autres informations sont données dans [Utilisation de la dernière version de NuGet dans votre build](https://blogs.msdn.microsoft.com/devops/2017/09/29/using-the-latest-nuget-in-your-build/) (blog Microsoft DevOps).</span><span class="sxs-lookup"><span data-stu-id="76fe8-148">Details can be found on [Using the latest NuGet in your build](https://blogs.msdn.microsoft.com/devops/2017/09/29/using-the-latest-nuget-in-your-build/) (Microsoft DevOps blog).</span></span>

## <a name="managing-package-owners-on-nugetorg"></a><span data-ttu-id="76fe8-149">Gestion des propriétaires de packages sur nuget.org</span><span class="sxs-lookup"><span data-stu-id="76fe8-149">Managing package owners on nuget.org</span></span>

<span data-ttu-id="76fe8-150">Bien que le fichier `.nuspec` de chaque package NuGet définisse les auteurs du package, la galerie nuget.org n’utilise pas ces métadonnées pour en définir la propriété.</span><span class="sxs-lookup"><span data-stu-id="76fe8-150">Although each NuGet package's `.nuspec` file defines the package's authors, the nuget.org gallery does not use that metadata to define ownership.</span></span> <span data-ttu-id="76fe8-151">Au lieu de cela, nuget.org assigne la propriété initiale à la personne qui publie le package.</span><span class="sxs-lookup"><span data-stu-id="76fe8-151">Instead, nuget.org assigns initial ownership to the person who publishes the package.</span></span> <span data-ttu-id="76fe8-152">Il s’agit soit de l’utilisateur connecté qui a chargé le package via l’interface utilisateur de nuget.org, soit des utilisateurs dont la clé API a été utilisée avec `nuget SetApiKey` ou `nuget push`.</span><span class="sxs-lookup"><span data-stu-id="76fe8-152">This is either the logged-in user who uploaded the package through the nuget.org UI, or the users whose API key was used with `nuget SetApiKey` or `nuget push`.</span></span>

<span data-ttu-id="76fe8-153">Tous les propriétaires de packages disposent d’autorisations complètes sur le package, y compris d’ajout et de suppression d’autres propriétaires, ainsi que de publication de mises à jour.</span><span class="sxs-lookup"><span data-stu-id="76fe8-153">All package owners have full permissions for the package, including adding and removing other owners, and publishing updates.</span></span>

<span data-ttu-id="76fe8-154">Pour modifier la propriété d’un package, effectuez les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="76fe8-154">To change ownership of a package, do the following:</span></span>

1. <span data-ttu-id="76fe8-155">Connectez-vous à nuget.org avec le compte qui est le propriétaire actuel du package.</span><span class="sxs-lookup"><span data-stu-id="76fe8-155">Sign in to nuget.org with the account that is the current owner of the package.</span></span>
1. <span data-ttu-id="76fe8-156">Sélectionnez le nom de votre compte, puis **Gérer les packages** et développez **Packages publiés**.</span><span class="sxs-lookup"><span data-stu-id="76fe8-156">Select your account name, select **Manage packages**, and expand **Published Packages**.</span></span>
1. <span data-ttu-id="76fe8-157">Sélectionnez le package que vous souhaitez gérer, puis **Gérer les propriétaires** à droite.</span><span class="sxs-lookup"><span data-stu-id="76fe8-157">Select on the package you want to manage, then on the right side select **Manage owners**.</span></span>

<span data-ttu-id="76fe8-158">À partir de là, vous disposez de plusieurs options :</span><span class="sxs-lookup"><span data-stu-id="76fe8-158">From here you have several options:</span></span>

1. <span data-ttu-id="76fe8-159">Supprimez des propriétaires listés sous **Propriétaires actuels**.</span><span class="sxs-lookup"><span data-stu-id="76fe8-159">Remove any owner listed under **Current Owners**.</span></span>
1. <span data-ttu-id="76fe8-160">Ajoutez un propriétaire sous **Ajouter un propriétaire** en entrant son nom d’utilisateur et un message, puis en sélectionnant **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="76fe8-160">Add an owner under **Add Owner** by entering their user name, a message, and selecting **Add**.</span></span> <span data-ttu-id="76fe8-161">Cette action envoie un e-mail comportant un lien de confirmation à ce nouveau copropriétaire.</span><span class="sxs-lookup"><span data-stu-id="76fe8-161">This action sends an email to that new co-owner with a confirmation link.</span></span> <span data-ttu-id="76fe8-162">Une fois la confirmation effectuée, cette personne dispose d’autorisations complètes pour ajouter et supprimer des propriétaires.</span><span class="sxs-lookup"><span data-stu-id="76fe8-162">Once confirmed, that person has full permissions to add and remove owners.</span></span> <span data-ttu-id="76fe8-163">(Tant que la confirmation n’est pas effectuée, la section **Propriétaires actuels** indique « En attente d’approbation » pour cette personne.)</span><span class="sxs-lookup"><span data-stu-id="76fe8-163">(Until confirmed, the **Current Owners** section indicates pending approval for that person.)</span></span>
1. <span data-ttu-id="76fe8-164">Pour transférer la propriété (quand elle change ou qu’un package n’a pas été publié sous le bon compte), ajoutez le nouveau propriétaire ; une fois qu’il aura confirmé sa propriété, il pourra vous supprimer de la liste.</span><span class="sxs-lookup"><span data-stu-id="76fe8-164">To transfer ownership (as when ownership changes or a package was published under the wrong account), add the new owner, and once they've confirmed ownership they can remove you from the list.</span></span>

<span data-ttu-id="76fe8-165">Pour affecter la propriété à une entreprise ou un groupe, créez un compte nuget.org à l’aide d’un alias de messagerie transféré aux membres d’équipe appropriés.</span><span class="sxs-lookup"><span data-stu-id="76fe8-165">To assign ownership to a company or group, create a nuget.org account using an email alias that is forwarded to the appropriate team members.</span></span> <span data-ttu-id="76fe8-166">Par exemple, les comptes [microsoft](https://nuget.org/profiles/microsoft) et [aspnet](https://nuget.org/profiles/aspnet) sont propriétaires de divers packages Microsoft ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="76fe8-166">For example, various Microsoft ASP.NET packages are co-owned by the [microsoft](https://nuget.org/profiles/microsoft) and [aspnet](https://nuget.org/profiles/aspnet) accounts, which simply such aliases.</span></span>

### <a name="recovering-package-ownership"></a><span data-ttu-id="76fe8-167">Récupération des propriétaires des packages</span><span class="sxs-lookup"><span data-stu-id="76fe8-167">Recovering package ownership</span></span>

<span data-ttu-id="76fe8-168">Parfois, un package peut ne pas avoir de propriétaire actif.</span><span class="sxs-lookup"><span data-stu-id="76fe8-168">Occasionally, a package may not have an active owner.</span></span> <span data-ttu-id="76fe8-169">Par exemple, le propriétaire d’origine peut avoir quitté l’entreprise qui produit le package, les informations d’identification nuget.org sont perdues ou des bogues plus récents dans la galerie ont laissé un package sans propriétaire.</span><span class="sxs-lookup"><span data-stu-id="76fe8-169">For example, the original owner may have left the company that produces the package, nuget.org credentials are lost, or earlier bugs in the gallery left a package ownerless.</span></span>

<span data-ttu-id="76fe8-170">Si vous êtes le propriétaire légitime d’un package et que vous avez besoin d’en récupérer la propriété, utilisez le [formulaire de contact](https://www.nuget.org/policies/Contact) sur nuget.org pour expliquer votre situation à l’équipe NuGet.</span><span class="sxs-lookup"><span data-stu-id="76fe8-170">If you are the rightful owner of a package and need to regain ownership, use the [contact form](https://www.nuget.org/policies/Contact) on nuget.org to explain your situation to the NuGet team.</span></span> <span data-ttu-id="76fe8-171">Nous suivons alors une procédure pour vérifier votre propriété du package, notamment en essayant de localiser le propriétaire existant par le biais de l’URL du projet du package, Twitter, un e-mail ou tout autre moyen.</span><span class="sxs-lookup"><span data-stu-id="76fe8-171">We then follow a process to verify your ownership of the package, including trying to locate the existing owner through the package's Project URL, Twitter, email, or other means.</span></span> <span data-ttu-id="76fe8-172">En cas d’échec de toutes ces options, nous pouvons vous envoyer une nouvelle invitation à devenir propriétaire.</span><span class="sxs-lookup"><span data-stu-id="76fe8-172">But if all else fails, we can send you a new invite to become an owner.</span></span>
